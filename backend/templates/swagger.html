<!DOCTYPE html>
<html>
<head>
    <title>API Documentation - Penguin Backend</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.26.0/swagger-ui.css" />
    <style>
        html { box-sizing: border-box; overflow: -moz-scrollbars-vertical; overflow-y: scroll; }
        *, *:before, *:after { box-sizing: inherit; }
        body { margin:0; background: #fafafa; font-family: "Helvetica Neue", Arial, sans-serif; }
        .swagger-ui .topbar { background-color: #2d5aa0; }
        .swagger-ui .topbar .download-url-wrapper .select-label { color: white; }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@5.26.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.26.0/swagger-ui-standalone-preset.js"></script>
    <script>
    window.onload = function() {
        const ui = SwaggerUIBundle({
            // OpenAPI 3.1スペックを使用（Swagger UI v5.26.0でネイティブサポート）
            url: '/swagger/openapi-v3.json?t=' + Date.now(),
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            persistAuthorization: true,
            docExpansion: "list",
            operationsSorter: "alpha",
            tagsSorter: "alpha",
            tryItOutEnabled: true,
            supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
            onComplete: function() {
                console.log("✅ Swagger UI v5.26.0 loaded with OpenAPI 3.1 spec");
            }
        });
        
        // UI完了後にタイトルを更新
        setTimeout(() => {
            const title = document.querySelector('.info .title');
            if (title) {
                title.innerHTML += ' <span style="color: #2d5aa0; font-size: 0.8em;">(OpenAPI 3.1)</span>';
            }
        }, 1000);
    };
    </script>
</body>
</html>