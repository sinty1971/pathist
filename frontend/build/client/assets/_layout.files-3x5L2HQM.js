import{a as C,r as Ht,o as h,t as St,w as yn}from"./chunk-QMGIS6GS-CRLmNMPd.js";import{u as Cn,g as le,a as ae,_ as y,b as qe,c as Re,d as Q,e as we,f as vn,h as Y,s as z,i as ce,j as Le,k as wn,T as En,l as Kt,m as Sn,n as K,o as Tt,p as je,q as Tn,r as kn,t as lt,v as he,B as Wt,w as Gt,x as Z,y as Pn,z as te,A as at,C as ee,D as kt,E as bt,F as It,G as Pt,H as Xe,I as $e,J as Rt,K as Ce,L as Rn,M as Mn,P as Mt,N as Lt,O as Ln,Q as jn}from"./sdk.gen-C0JJsBdk.js";import{u as Dn}from"./FileInfoContext-NxQDI7MG.js";import"./index-BXUbddt1.js";function qt(e){return Cn}function On(e){return le("MuiSimpleTreeView",e)}ae("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);class Fn{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,o={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),o.isFirst?s.highPriority.set(n,!0):s.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const s=Array.from(o.highPriority.keys()),a=Array.from(o.regular.keys());for(let u=s.length-1;u>=0;u-=1){const i=s[u];o.highPriority.has(i)&&i.apply(this,n)}for(let u=0;u<a.length;u+=1){const i=a[u];o.regular.has(i)&&i.apply(this,n)}}once(t,n){const o=this;this.on(t,function s(...a){o.removeListener(t,s),n.apply(o,a)})}}const Vn=e=>e.isPropagationStopped!==void 0,Xt=()=>{const[e]=C.useState(()=>new Fn),t=C.useCallback((...o)=>{const[s,a,u={}]=o;u.defaultMuiPrevented=!1,!(Vn(u)&&u.isPropagationStopped())&&e.emit(s,a,u)},[e]),n=C.useCallback((o,s)=>(e.on(o,s),()=>{e.removeListener(o,s)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Xt.params={};const Jt=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};Jt.params={};var tt={exports:{}},nt={},ot={exports:{}},rt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt;function An(){if(jt)return rt;jt=1;var e=Ht();function t(r,c){return r===c&&(r!==0||1/r===1/c)||r!==r&&c!==c}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,a=e.useLayoutEffect,u=e.useDebugValue;function i(r,c){var f=c(),I=o({inst:{value:f,getSnapshot:c}}),g=I[0].inst,m=I[1];return a(function(){g.value=f,g.getSnapshot=c,l(g)&&m({inst:g})},[r,f,c]),s(function(){return l(g)&&m({inst:g}),r(function(){l(g)&&m({inst:g})})},[r]),u(f),f}function l(r){var c=r.getSnapshot;r=r.value;try{var f=c();return!n(r,f)}catch{return!0}}function p(r,c){return c()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:i;return rt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,rt}var Dt;function zn(){return Dt||(Dt=1,ot.exports=An()),ot.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot;function $n(){if(Ot)return nt;Ot=1;var e=Ht(),t=zn();function n(p,d){return p===d&&(p!==0||1/p===1/d)||p!==p&&d!==d}var o=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,u=e.useEffect,i=e.useMemo,l=e.useDebugValue;return nt.useSyncExternalStoreWithSelector=function(p,d,r,c,f){var I=a(null);if(I.current===null){var g={hasValue:!1,value:null};I.current=g}else g=I.current;I=i(function(){function b(M){if(!x){if(x=!0,w=M,M=c(M),f!==void 0&&g.hasValue){var L=g.value;if(f(L,M))return S=L}return S=M}if(L=S,o(w,M))return L;var O=c(M);return f!==void 0&&f(L,O)?(w=M,L):(w=M,S=O)}var x=!1,w,S,k=r===void 0?null:r;return[function(){return b(d())},k===null?void 0:function(){return b(k())}]},[d,r,c,f]);var m=s(p,I[0],I[1]);return u(function(){g.hasValue=!0,g.value=m},[m]),l(m),m},nt}var Ft;function Nn(){return Ft||(Ft=1,tt.exports=$n()),tt.exports}var Bn=Nn();const _n=Object.is,$=(e,t,n=void 0,o=_n)=>{const s=a=>t(a,n);return Bn.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,s,o)};var Ke=Symbol("NOT_FOUND");function Un(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hn(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Kn(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${t}[${n}]`)}}var Vt=e=>Array.isArray(e)?e:[e];function Wn(e){const t=Array.isArray(e[0])?e[0]:e;return Kn(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gn(e,t){const n=[],{length:o}=e;for(let s=0;s<o;s++)n.push(e[s].apply(null,t));return n}function qn(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Ke},put(n,o){t={key:n,value:o}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Xn(e,t){let n=[];function o(i){const l=n.findIndex(p=>t(i,p.key));if(l>-1){const p=n[l];return l>0&&(n.splice(l,1),n.unshift(p)),p.value}return Ke}function s(i,l){o(i)===Ke&&(n.unshift({key:i,value:l}),n.length>e&&n.pop())}function a(){return n}function u(){n=[]}return{get:o,put:s,getEntries:a,clear:u}}var Jn=(e,t)=>e===t;function Yn(e){return function(n,o){if(n===null||o===null||n.length!==o.length)return!1;const{length:s}=n;for(let a=0;a<s;a++)if(!e(n[a],o[a]))return!1;return!0}}function Qn(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:o=Jn,maxSize:s=1,resultEqualityCheck:a}=n,u=Yn(o);let i=0;const l=s<=1?qn(u):Xn(s,u);function p(){let d=l.get(arguments);if(d===Ke){if(d=e.apply(null,arguments),i++,a){const c=l.getEntries().find(f=>a(f.value,d));c&&(d=c.value,i!==0&&i--)}l.put(arguments,d)}return d}return p.clearCache=()=>{l.clear(),p.resetResultsCount()},p.resultsCount=()=>i,p.resetResultsCount=()=>{i=0},p}var Zn=class{constructor(e){this.value=e}deref(){return this.value}},eo=typeof WeakRef<"u"?WeakRef:Zn,to=0,At=1;function Ne(){return{s:to,v:void 0,o:null,p:null}}function Yt(e,t={}){let n=Ne();const{resultEqualityCheck:o}=t;let s,a=0;function u(){let i=n;const{length:l}=arguments;for(let r=0,c=l;r<c;r++){const f=arguments[r];if(typeof f=="function"||typeof f=="object"&&f!==null){let I=i.o;I===null&&(i.o=I=new WeakMap);const g=I.get(f);g===void 0?(i=Ne(),I.set(f,i)):i=g}else{let I=i.p;I===null&&(i.p=I=new Map);const g=I.get(f);g===void 0?(i=Ne(),I.set(f,i)):i=g}}const p=i;let d;if(i.s===At)d=i.v;else if(d=e.apply(null,arguments),a++,o){const r=s?.deref?.()??s;r!=null&&o(r,d)&&(d=r,a!==0&&a--),s=typeof d=="object"&&d!==null||typeof d=="function"?new eo(d):d}return p.s=At,p.v=d,d}return u.clearCache=()=>{n=Ne(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function Qt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,o=(...s)=>{let a=0,u=0,i,l={},p=s.pop();typeof p=="object"&&(l=p,p=s.pop()),Un(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const d={...n,...l},{memoize:r,memoizeOptions:c=[],argsMemoize:f=Yt,argsMemoizeOptions:I=[]}=d,g=Vt(c),m=Vt(I),b=Wn(s),x=r(function(){return a++,p.apply(null,arguments)},...g),w=f(function(){u++;const k=Gn(b,arguments);return i=x.apply(null,k),i},...m);return Object.assign(w,{resultFunc:p,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>i,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:r,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var no=Qt(Yt),oo=Object.assign((e,t=no)=>{Hn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),o=n.map(a=>e[a]);return t(o,(...a)=>a.reduce((u,i,l)=>(u[n[l]]=i,u),{}))},{withTypes:()=>oo});const ro=Qt({memoize:Qn,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),zt=new WeakMap,j=(...e)=>(n,o)=>{const s=n.cacheKey;let a=zt.get(s);a||(a=new Map,zt.set(s,a));const u=a.get(e);if(u)return u(n,o);const i=ro(...e);return a.set(e,i),i(n,o)},so=e=>e.id,De=j(so,e=>e.treeId);let $t=0;const io=()=>($t+=1,`mui-tree-view-${$t}`),Je=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,xt=({params:e,store:t})=>{C.useEffect(()=>{t.update(o=>e.id===o.id.providedTreeId&&o.id.treeId!==void 0?o:y({},o,{id:y({},o.id,{treeId:e.id??io()})}))},[t,e.id]);const n=$(t,De);return{getRootProps:()=>({id:n})}};xt.params={id:!0};xt.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const lo=[Xt,Jt,xt],ao=["apiRef"],co=e=>{let{props:{apiRef:t},plugins:n}=e,o=qe(e.props,ao);const s=C.useMemo(()=>{const i={};return n.forEach(l=>{Object.assign(i,l.params)}),i},[n]),{forwardedProps:a,pluginParams:u}=C.useMemo(()=>{const i={},l={};Object.keys(o).forEach(d=>{const r=o[d];s[d]?i[d]=r:l[d]=r});const p=n.reduce((d,r)=>r.applyDefaultValuesToParams?r.applyDefaultValuesToParams({params:d}):d,i);return{forwardedProps:l,pluginParams:p}},[n,o,s]);return{forwardedProps:a,pluginParams:u,apiRef:t}},uo=e=>{const{plugins:t,instance:n,publicAPI:o,store:s,rootRef:a}=e,u=C.useCallback(p=>{let d=null,r=null;const c=[],f={};t.forEach(m=>{if(!m.itemPlugin)return;const b=m.itemPlugin({props:p,rootRef:d,contentRef:r});b?.rootRef&&(d=b.rootRef),b?.contentRef&&(r=b.contentRef),b?.propsEnhancers&&(c.push(b.propsEnhancers),Object.keys(b.propsEnhancers).forEach(x=>{f[x]=!0}))});const I=m=>b=>{const x={};return c.forEach(w=>{const S=w[m];S!=null&&Object.assign(x,S(b))}),x},g=Object.fromEntries(Object.keys(f).map(m=>[m,I(m)]));return{contentRef:r,rootRef:d,propsEnhancers:g}},[t]),i=C.useCallback(({itemId:p,children:d,idAttribute:r})=>{let c=d;for(let f=t.length-1;f>=0;f-=1){const I=t[f];I.wrapItem&&(c=I.wrapItem({instance:n,itemId:p,children:c,idAttribute:r}))}return c},[t,n]),l=C.useCallback(({children:p})=>{let d=p;for(let r=t.length-1;r>=0;r-=1){const c=t[r];c.wrapRoot&&(d=c.wrapRoot({children:d}))}return d},[t]);return C.useMemo(()=>({runItemPlugins:u,wrapItem:i,wrapRoot:l,instance:n,publicAPI:o,store:s,rootRef:a}),[u,i,l,n,o,s,a])};class po{constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{const o=n(this.value);o!==this.value&&(this.value=o,this.listeners.forEach(s=>s(o)))},this.value=t,this.listeners=new Set}}function fo(e){return e.current==null&&(e.current={}),e}function mo(e){const t=C.useRef({});return e?fo(e):t}let Nt=0;const ho=({plugins:e,rootRef:t,props:n})=>{const o=C.useMemo(()=>[...lo,...e],[e]),{pluginParams:s,forwardedProps:a,apiRef:u}=co({plugins:o,props:n}),l=C.useRef({}).current,p=mo(u),d=C.useRef(null),r=Re(d,t),c=C.useRef(null);if(c.current==null){Nt+=1;const b={cacheKey:{id:Nt}};o.forEach(x=>{x.getInitialState&&Object.assign(b,x.getInitialState(s))}),c.current=new po(b)}const f=uo({plugins:o,instance:l,publicAPI:p.current,store:c.current,rootRef:d}),I=[],g=b=>{const x=b({instance:l,params:s,rootRef:d,plugins:o,store:c.current});x.getRootProps&&I.push(x.getRootProps),x.publicAPI&&Object.assign(p.current,x.publicAPI),x.instance&&Object.assign(l,x.instance)};return o.forEach(g),{getRootProps:(b={})=>{const x=y({role:"tree"},a,b,{ref:r});return I.forEach(w=>{Object.assign(x,w(b))}),x},rootRef:r,contextValue:f}},Zt=C.createContext(null),be=()=>{const e=C.useContext(Zt);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},en=C.createContext({classes:{},slots:{},slotProps:{}}),tn=()=>C.useContext(en),st={};function go(e){const{contextValue:t,classes:n=st,slots:o=st,slotProps:s=st,children:a}=e,u=C.useMemo(()=>({classes:n,slots:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon},slotProps:{collapseIcon:s.collapseIcon,expandIcon:s.expandIcon,endIcon:s.endIcon}}),[n,o.collapseIcon,o.expandIcon,o.endIcon,s.collapseIcon,s.expandIcon,s.endIcon]);return h.jsx(Zt.Provider,{value:t,children:h.jsx(en.Provider,{value:u,children:t.wrapRoot({children:a})})})}const Te=(e,t,n)=>{e.$$publishEvent(t,n)},Ee="__TREE_VIEW_ROOT_PARENT_ID__",nn=e=>{const t={};return e.forEach((n,o)=>{t[n]=o}),t},ct=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},Me=C.createContext(()=>-1),Ie=e=>e.items;j(Ie,e=>e.loading);j(Ie,e=>e.error);const Ye=j(Ie,e=>e.itemMetaLookup),bo=[],N=j([Ie,(e,t)=>t],(e,t)=>e.itemOrderedChildrenIdsLookup[t??Ee]??bo),ut=j([Ie,(e,t)=>t],(e,t)=>e.itemModelLookup[t]),W=j([Ye,(e,t)=>t],(e,t)=>e[t??Ee]??null),Se=j([Ye,(e,t)=>t],ct),yt=j([Ie,W],(e,t)=>t==null?-1:e.itemChildrenIndexesLookup[t.parentId??Ee][t.id]),ve=j([W],e=>e?.parentId??null),Io=j([W],e=>e?.depth??0),on=j([Ie],e=>e.disabledItemsFocusable),me=j([on,Se],(e,t)=>e?!0:!t),xo=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},dt=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:o,getItemChildren:s,getItemId:a,initialDepth:u=0,initialParentId:i=null,getChildrenCount:l,ignoreChildren:p=!1})=>{const d={},r={},c={[Ee]:[]},f=(g,m,b)=>{const x=a?a(g):g.id;xo(x,g,d);const w=o?o(g):g.label;if(w==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(g)].join(`
`));const S=s?s(g):g.children;d[x]={id:x,label:w,parentId:b,idAttribute:void 0,expandable:l?l(g)>0:!!S?.length,disabled:n?n(g):!1,depth:m},r[x]=g;const k=b??Ee;c[k]||(c[k]=[]),c[k].push(x),p||S?.forEach(M=>f(M,m+1,x))};t?.forEach(g=>f(g,u,i));const I={};return Object.keys(c).forEach(g=>{I[g]=nn(c[g])}),{disabledItemsFocusable:e,itemMetaLookup:d,itemModelLookup:r,itemOrderedChildrenIdsLookup:c,itemChildrenIndexesLookup:I}},Oe=({instance:e,params:t,store:n})=>{const o=C.useCallback(b=>ut(n.value,b),[n]),s=C.useCallback(b=>W(n.value,b)?.parentId||null,[n]),a=Q(b=>{n.update(x=>y({},x,{items:y({},x.items,{loading:b})}))}),u=Q(b=>{n.update(x=>y({},x,{items:y({},x.items,{error:b})}))}),i=Q(({itemId:b,shouldBeDisabled:x})=>{n.update(w=>{if(!w.items.itemMetaLookup[b])return w;const S=y({},w.items.itemMetaLookup);return S[b]=y({},S[b],{disabled:x??!S[b].disabled}),y({},w,{items:y({},w.items,{itemMetaLookup:S})})})}),l=C.useCallback(()=>{const b=x=>{const w=ut(n.value,x),S=N(n.value,x);return S.length>0?w.children=S.map(b):delete w.children,w};return N(n.value,null).map(b)},[n]),p=C.useCallback(b=>N(n.value,b),[n]),d=b=>{const x=W(n.value,b);if(x==null)return null;const w=Je({treeId:De(n.value),itemId:b,id:x.idAttribute});return document.getElementById(w)},r=C.useRef(!1),c=C.useCallback(()=>{r.current=!0},[]),f=C.useCallback(()=>r.current,[]),I=({items:b,parentId:x,depth:w,getChildrenCount:S})=>{if(b){const k=dt({disabledItemsFocusable:t.disabledItemsFocusable,items:b,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:S,initialDepth:w,initialParentId:x,ignoreChildren:!0});n.update(M=>{let L;return x?L={itemModelLookup:y({},M.items.itemModelLookup,k.itemModelLookup),itemMetaLookup:y({},M.items.itemMetaLookup,k.itemMetaLookup),itemOrderedChildrenIdsLookup:y({},k.itemOrderedChildrenIdsLookup,M.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:y({},k.itemChildrenIndexesLookup,M.items.itemChildrenIndexesLookup)}:L={itemModelLookup:k.itemModelLookup,itemMetaLookup:k.itemMetaLookup,itemOrderedChildrenIdsLookup:k.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:k.itemChildrenIndexesLookup},Object.values(M.items.itemMetaLookup).forEach(O=>{k.itemMetaLookup[O.id]||Te(e,"removeItem",{id:O.id})}),y({},M,{items:y({},M.items,L)})})}},g=b=>{n.update(x=>{if(!b)return y({},x,{items:y({},x.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}})});const w=Object.keys(x.items.itemMetaLookup).reduce((M,L)=>{const O=x.items.itemMetaLookup[L];return O.parentId===b?(Te(e,"removeItem",{id:O.id}),M):y({},M,{[O.id]:O})},{}),S=x.items.itemOrderedChildrenIdsLookup,k=x.items.itemChildrenIndexesLookup;return delete k[b],delete S[b],y({},x,{items:y({},x.items,{itemMetaLookup:w,itemOrderedChildrenIdsLookup:S,itemChildrenIndexesLookup:k})})})};C.useEffect(()=>{e.areItemUpdatesPrevented()||n.update(b=>{const x=dt({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});return Object.values(b.items.itemMetaLookup).forEach(w=>{x.itemMetaLookup[w.id]||Te(e,"removeItem",{id:w.id})}),y({},b,{items:y({},b.items,x)})})},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const m=Q((b,x)=>{t.onItemClick&&t.onItemClick(b,x)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:o,getItemDOMElement:d,getItemTree:l,getItemOrderedChildrenIds:p,setIsItemDisabled:i,getParentId:s},instance:{getItemDOMElement:d,preventItemUpdates:c,areItemUpdatesPrevented:f,addItems:I,setTreeViewLoading:a,setTreeViewError:u,removeChildren:g,handleItemClick:m}}};Oe.getInitialState=e=>({items:y({},dt({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})});Oe.applyDefaultValuesToParams=({params:e})=>y({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});Oe.wrapRoot=({children:e})=>h.jsx(Me.Provider,{value:Io,children:e});Oe.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const rn=()=>{},sn=e=>e.expansion,pt=j([sn],e=>e.expandedItems),ln=j([pt],e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),ne=j([ln,(e,t)=>t],(e,t)=>e.has(t)),Qe=j([W],e=>e?.expandable??!1),Bt=j([sn],e=>e.expansionTrigger),an=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),Ze=({instance:e,store:t,params:n})=>{rn({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),we(()=>{t.update(i=>{const l=an({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});return i.expansion.expansionTrigger===l?i:y({},i,{expansion:y({},i.expansion,{expansionTrigger:l})})})},[t,n.isItemEditable,n.expansionTrigger]);const o=(i,l)=>{n.expandedItems===void 0&&t.update(p=>y({},p,{expansion:y({},p.expansion,{expandedItems:l})})),n.onExpandedItemsChange?.(i,l)},s=Q(({itemId:i,event:l,shouldBeExpanded:p})=>{const d=pt(t.value);let r;p?r=[i].concat(d):r=d.filter(c=>c!==i),n.onItemExpansionToggle&&n.onItemExpansionToggle(l,i,p),o(l,r)}),a=Q(({itemId:i,event:l=null,shouldBeExpanded:p})=>{const d=ne(t.value,i),r=p??!d;if(d===r)return;const c={isExpansionPrevented:!1,shouldBeExpanded:r,event:l,itemId:i};Te(e,"beforeItemToggleExpansion",c),!c.isExpansionPrevented&&e.applyItemExpansion({itemId:i,event:l,shouldBeExpanded:r})}),u=(i,l)=>{const p=W(t.value,l);if(p==null)return;const r=N(t.value,p.parentId).filter(f=>Qe(t.value,f)&&!ne(t.value,f)),c=pt(t.value).concat(r);r.length>0&&(n.onItemExpansionToggle&&r.forEach(f=>{n.onItemExpansionToggle(i,f,!0)}),o(i,c))};return we(()=>{const i=n.expandedItems;i!==void 0&&t.update(l=>y({},l,{expansion:y({},l.expansion,{expandedItems:i})}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:a},instance:{setItemExpansion:a,applyItemExpansion:s,expandAllSiblings:u}}},yo=[];Ze.applyDefaultValuesToParams=({params:e})=>y({},e,{defaultExpandedItems:e.defaultExpandedItems??yo});Ze.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:an(e)}});Ze.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const ft=(e,t)=>{let n=t.length-1;for(;n>=0&&!me(e,t[n]);)n-=1;if(n!==-1)return t[n]},cn=(e,t)=>{const n=W(e,t);if(!n)return null;const o=N(e,n.parentId),s=yt(e,t);if(s===0)return n.parentId;let a=s-1;for(;!me(e,o[a])&&a>=0;)a-=1;if(a===-1)return n.parentId==null?null:cn(e,n.parentId);let u=o[a],i=ft(e,N(e,u));for(;ne(e,u)&&i!=null;)u=i,i=ft(e,N(e,u));return u},Be=(e,t)=>{if(ne(e,t)){const o=N(e,t).find(s=>me(e,s));if(o!=null)return o}let n=W(e,t);for(;n!=null;){const o=N(e,n.parentId),s=yt(e,n.id);if(s<o.length-1){let a=s+1;for(;!me(e,o[a])&&a<o.length-1;)a+=1;if(me(e,o[a]))return o[a]}n=W(e,n.parentId)}return null},un=e=>{let t=null;for(;t==null||ne(e,t);){const n=N(e,t),o=ft(e,n);if(o==null)return t;t=o}return t},We=e=>N(e,null).find(t=>me(e,t)),dn=(e,t,n)=>{if(t===n)return[t,n];const o=W(e,t),s=W(e,n);if(!o||!s)return[t,n];if(o.parentId===s.id||s.parentId===o.id)return s.parentId===o.id?[o.id,s.id]:[s.id,o.id];const a=[o.id],u=[s.id];let i=o.parentId,l=s.parentId,p=u.indexOf(i)!==-1,d=a.indexOf(l)!==-1,r=!0,c=!0;for(;!d&&!p;)r&&(a.push(i),p=u.indexOf(i)!==-1,r=i!==null,!p&&r&&(i=ve(e,i))),c&&!p&&(u.push(l),d=a.indexOf(l)!==-1,c=l!==null,!d&&c&&(l=ve(e,l)));const f=p?i:l,I=N(e,f),g=a[a.indexOf(f)-1],m=u[u.indexOf(f)-1];return I.indexOf(g)<I.indexOf(m)?[t,n]:[n,t]},Co=(e,t,n)=>{const o=l=>{if(Qe(e,l)&&ne(e,l))return N(e,l)[0];let p=W(e,l);for(;p!=null;){const d=N(e,p.parentId),r=yt(e,p.id);if(r<d.length-1)return d[r+1];p=p.parentId?W(e,p.parentId):null}throw new Error("Invalid range")},[s,a]=dn(e,t,n),u=[s];let i=s;for(;i!==a;)i=o(i),Se(e,i)||u.push(i);return u},vo=e=>{let t=We(e);const n=[];for(;t!=null;)n.push(t),t=Be(e,t);return n},mt=(e,t)=>t!==e.closest('*[role="treeitem"]'),Fe=e=>e.selection,pn=j([Fe],e=>e.selectedItems),ke=j([pn],e=>Array.isArray(e)?e:e!=null?[e]:[]),wo=j([ke],e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),ge=j([wo,(e,t)=>t],(e,t)=>e.has(t)),fe=j([Fe],e=>e.isEnabled&&e.isMultiSelectEnabled),Ge=j([Fe],e=>e.isEnabled),fn=j([Fe],e=>e.isCheckboxSelectionEnabled),Ct=j([Se,Ge],(e,t)=>t&&!e),Eo=j([Fe],e=>e.selectionPropagation),_e=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},mn=({store:e,oldModel:t,newModel:n})=>{const o=new Map;return n.forEach(s=>{o.set(s,!0)}),{added:n.filter(s=>!ge(e.value,s)),removed:t.filter(s=>!o.has(s))}},So=({store:e,selectionPropagation:t,newModel:n,oldModel:o,additionalItemsToPropagate:s})=>{if(!t.descendants&&!t.parents)return n;let a=!1;const u=_e(n),i=mn({store:e,newModel:n,oldModel:o});return s?.forEach(l=>{u[l]?i.added.includes(l)||i.added.push(l):i.removed.includes(l)||i.removed.push(l)}),i.added.forEach(l=>{if(t.descendants){const p=d=>{d!==l&&(a=!0,u[d]=!0),N(e.value,d).forEach(p)};p(l)}if(t.parents){const p=r=>u[r]?N(e.value,r).every(p):!1,d=r=>{const c=ve(e.value,r);if(c==null)return;N(e.value,c).every(p)&&(a=!0,u[c]=!0,d(c))};d(l)}}),i.removed.forEach(l=>{if(t.parents){let p=ve(e.value,l);for(;p!=null;)u[p]&&(a=!0,delete u[p]),p=ve(e.value,p)}if(t.descendants){const p=d=>{d!==l&&(a=!0,delete u[d]),N(e.value,d).forEach(p)};p(l)}}),a?Object.keys(u):n},To=Object.is;function ko(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,o=0;for(const s in e)if(n+=1,!To(e[s],t[s])||!(s in t))return!1;for(const s in t)o+=1;return n===o}function Po(e,t){const n=fn(e),o=Ct(e,t);if(ge(e,t))return{disabled:!o,visible:n,indeterminate:!1,checked:!0};if(N(e,t).length===0)return{disabled:!o,visible:n,indeterminate:!1,checked:!1};let a=!1,u=!1;const i=l=>{l!==t&&(ge(e,l)?a=!0:u=!0),N(e,l).forEach(i)};return i(t),{disabled:!o,visible:n,indeterminate:a&&u,checked:Eo(e).parents?a&&!u:!1}}const Ro=({props:e})=>{const{itemId:t}=e,{store:n}=be(),o=$(n,Po,t,ko);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:a})=>y({tabIndex:-1,onChange:i=>{s.onChange?.(i),!i.defaultMuiPrevented&&Ct(n.value,t)&&a.handleCheckboxSelection(i)}},o)}}},Ve=({store:e,params:t})=>{rn({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=C.useRef(null),o=C.useRef({}),s=(c,f,I)=>{const g=pn(e.value);let m;const b=fe(e.value);if(b&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?m=So({store:e,selectionPropagation:t.selectionPropagation,newModel:f,oldModel:g,additionalItemsToPropagate:I}):m=f,t.onItemSelectionToggle)if(b){const x=mn({store:e,newModel:m,oldModel:g});t.onItemSelectionToggle&&(x.added.forEach(w=>{t.onItemSelectionToggle(c,w,!0)}),x.removed.forEach(w=>{t.onItemSelectionToggle(c,w,!1)}))}else t.onItemSelectionToggle&&m!==g&&(g!=null&&t.onItemSelectionToggle(c,g,!1),m!=null&&t.onItemSelectionToggle(c,m,!0));t.selectedItems===void 0&&e.update(x=>y({},x,{selection:y({},x.selection,{selectedItems:m})})),t.onSelectedItemsChange?.(c,m)},a=({itemId:c,event:f=null,keepExistingSelection:I=!1,shouldBeSelected:g})=>{if(!Ge(e.value))return;let m;const b=fe(e.value);if(I){const x=ke(e.value),w=ge(e.value,c);w&&(g===!1||g==null)?m=x.filter(S=>S!==c):!w&&(g===!0||g==null)?m=[c].concat(x):m=x}else g===!1||g==null&&ge(e.value,c)?m=b?[]:null:m=b?[c]:c;s(f,m,[c]),n.current=c,o.current={}},u=(c,[f,I])=>{if(!fe(e.value))return;let m=ke(e.value).slice();Object.keys(o.current).length>0&&(m=m.filter(S=>!o.current[S]));const b=_e(m),x=Co(e.value,f,I),w=x.filter(S=>!b[S]);m=m.concat(w),s(c,m),o.current=_e(x)},i=(c,f)=>{if(n.current!=null){const[I,g]=dn(e.value,f,n.current);u(c,[I,g])}},l=(c,f)=>{u(c,[We(e.value),f])},p=(c,f)=>{u(c,[f,un(e.value)])},d=c=>{if(!fe(e.value))return;const I=vo(e.value);s(c,I),o.current=_e(I)},r=(c,f,I)=>{if(!fe(e.value))return;let m=ke(e.value).slice();Object.keys(o.current).length===0?(m.push(I),o.current={[f]:!0,[I]:!0}):(o.current[f]||(o.current={}),o.current[I]?(m=m.filter(b=>b!==f),delete o.current[f]):(m.push(I),o.current[I]=!0)),s(c,m)};return we(()=>{e.update(c=>y({},c,{selection:{selectedItems:t.selectedItems===void 0?c.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}}}))},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:a},instance:{setItemSelection:a,selectAllNavigableItems:d,expandSelectionRange:i,selectRangeFromStartToItem:l,selectRangeFromItemToEnd:p,selectItemFromArrowNavigation:r}}};Ve.itemPlugin=Ro;const Mo=[],Lo={};Ve.applyDefaultValuesToParams=({params:e})=>y({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Mo:null),selectionPropagation:e.selectionPropagation??Lo});Ve.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}});Ve.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const _t=1e3;class jo{constructor(t=_t){this.timeouts=new Map,this.cleanupTimeout=_t,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,s)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Do{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class Oo{}function Fo(e){let t=0;return function(o,s,a){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Do:new jo);const[u]=C.useState(new Oo),i=C.useRef(null),l=C.useRef(void 0);l.current=a;const p=C.useRef(null);if(!i.current&&l.current){const d=(r,c)=>{c.defaultMuiPrevented||l.current?.(r,c)};i.current=o.$$subscribeEvent(s,d),t+=1,p.current={cleanupToken:t},e.registry.register(u,()=>{i.current?.(),i.current=null,p.current=null},p.current)}else!l.current&&i.current&&(i.current(),i.current=null,p.current&&(e.registry.unregister(p.current),p.current=null));C.useEffect(()=>{if(!i.current&&l.current){const d=(r,c)=>{c.defaultMuiPrevented||l.current?.(r,c)};i.current=o.$$subscribeEvent(s,d)}return p.current&&e.registry&&(e.registry.unregister(p.current),p.current=null),()=>{i.current?.(),i.current=null}},[o,s])}}const Vo={registry:null},Ao=Fo(Vo),zo=e=>e.focus,ht=j([ke,ln,Ye,on,e=>N(e,null)],(e,t,n,o,s)=>{const a=e.find(i=>{if(!o&&ct(n,i))return!1;const l=n[i];return l&&(l.parentId==null||t.has(l.parentId))});if(a!=null)return a;const u=s.find(i=>o||!ct(n,i));return u??null}),$o=j([ht,(e,t)=>t],(e,t)=>e===t),Ue=j(zo,e=>e.focusedItemId),No=j([Ue,(e,t)=>t],(e,t)=>e===t),vt=({instance:e,params:t,store:n})=>{const o=Q(d=>{n.update(r=>Ue(r)===d?r:y({},r,{focus:y({},r.focus,{focusedItemId:d})}))}),s=d=>{const r=W(n.value,d);return r&&(r.parentId==null||ne(n.value,r.parentId))},a=(d,r)=>{const c=e.getItemDOMElement(r);c&&c.focus(),o(r),t.onItemFocus&&t.onItemFocus(d,r)},u=Q((d,r)=>{s(r)&&a(d,r)}),i=Q(()=>{const d=Ue(n.value);if(d==null)return;if(W(n.value,d)){const c=e.getItemDOMElement(d);c&&c.blur()}o(null)});Ao(e,"removeItem",({id:d})=>{const r=Ue(n.value),c=ht(n.value);r===d&&c!=null&&a(null,c)});const l=d=>r=>{if(d.onFocus?.(r),r.defaultMuiPrevented)return;const c=ht(n.value);r.target===r.currentTarget&&c!=null&&a(r,c)},p=d=>r=>{d.onBlur?.(r),!r.defaultMuiPrevented&&o(null)};return{getRootProps:d=>({onFocus:l(d),onBlur:p(d)}),publicAPI:{focusItem:u},instance:{focusItem:u,removeFocusedItem:i}}};vt.getInitialState=()=>({focus:{focusedItemId:null}});vt.params={onItemFocus:!0};const He=(e,t)=>e.getAvailablePlugins().has(t),wt=e=>e.label,et=j([wt,(e,t)=>ut(e,t)],(e,t)=>!t||!e?!1:typeof e.isItemEditable=="boolean"?e.isItemEditable:e.isItemEditable(t)),Pe=j([wt,(e,t)=>t],(e,t)=>t?e?.editedItemId===t:!1);j(wt,e=>!!e?.editedItemId);const Bo=({props:e})=>{const{store:t}=be(),{label:n,itemId:o}=e,[s,a]=C.useState(n),u=$(t,et,o),i=$(t,Pe,o);return C.useEffect(()=>{i||a(n)},[i,n]),{propsEnhancers:{label:()=>({editable:u}),labelInput:({externalEventHandlers:l,interactions:p})=>u?{value:s??"","data-element":"labelInput",onChange:f=>{l.onChange?.(f),a(f.target.value)},onKeyDown:f=>{if(l.onKeyDown?.(f),f.defaultMuiPrevented)return;const I=f.target;f.key==="Enter"&&I.value?p.handleSaveItemLabel(f,I.value):f.key==="Escape"&&p.handleCancelItemLabelEditing(f)},onBlur:f=>{l.onBlur?.(f),!f.defaultMuiPrevented&&f.target.value&&p.handleSaveItemLabel(f,f.target.value)},autoFocus:!0,type:"text"}:{}}}},ie=({store:e,params:t})=>{const n=s=>{s!==null&&!et(e.value,s)||e.update(a=>y({},a,{label:y({},a.label,{editedItemId:s})}))},o=(s,a)=>{if(!a)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",s].join(`
`));e.update(u=>{const i=u.items.itemMetaLookup[s];return i.label!==a?y({},u,{items:y({},u.items,{itemMetaLookup:y({},u.items.itemMetaLookup,{[s]:y({},i,{label:a})})})}):u}),t.onItemLabelChange&&t.onItemLabelChange(s,a)};return we(()=>{e.update(s=>y({},s,{label:y({},s.label,{isItemEditable:t.isItemEditable})}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:o},publicAPI:{setEditedItem:n,updateItemLabel:o}}};ie.itemPlugin=Bo;ie.applyDefaultValuesToParams=({params:e})=>y({},e,{isItemEditable:e.isItemEditable??!1});ie.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}});ie.params={onItemLabelChange:!0,isItemEditable:!0};function _o(e){return!!e&&e.length===1&&!!e.match(/\S/)}const hn=({instance:e,store:t,params:n})=>{const o=vn(),s=C.useRef({}),a=Q(r=>{s.current=r(s.current)}),u=$(t,Ye);C.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const r={},c=f=>{r[f.id]=f.label.substring(0,1).toLowerCase()};Object.values(u).forEach(c),s.current=r},[u,n.getItemId,e]);const i=(r,c)=>{const f=c.toLowerCase(),I=x=>{const w=Be(t.value,x);return w===null?We(t.value):w};let g=null,m=I(r);const b={};for(;g==null&&!b[m];)s.current[m]===f?g=m:(b[m]=!0,m=I(m));return g},l=r=>Ge(t.value)&&!Se(t.value,r),p=r=>!Se(t.value,r)&&Qe(t.value,r);return{instance:{updateFirstCharMap:a,handleItemKeyDown:async(r,c)=>{if(r.defaultMuiPrevented||r.altKey||mt(r.target,r.currentTarget))return;const f=r.ctrlKey||r.metaKey,I=r.key,g=fe(t.value);switch(!0){case(I===" "&&l(c)):{r.preventDefault(),g&&r.shiftKey?e.expandSelectionRange(r,c):e.setItemSelection({event:r,itemId:c,keepExistingSelection:g,shouldBeSelected:void 0});break}case I==="Enter":{He(e,ie)&&et(t.value,c)&&!Pe(t.value,c)?e.setEditedItem(c):p(c)?(e.setItemExpansion({event:r,itemId:c}),r.preventDefault()):l(c)&&(g?(r.preventDefault(),e.setItemSelection({event:r,itemId:c,keepExistingSelection:!0})):ge(t.value,c)||(e.setItemSelection({event:r,itemId:c}),r.preventDefault()));break}case I==="ArrowDown":{const m=Be(t.value,c);m&&(r.preventDefault(),e.focusItem(r,m),g&&r.shiftKey&&l(m)&&e.selectItemFromArrowNavigation(r,c,m));break}case I==="ArrowUp":{const m=cn(t.value,c);m&&(r.preventDefault(),e.focusItem(r,m),g&&r.shiftKey&&l(m)&&e.selectItemFromArrowNavigation(r,c,m));break}case(I==="ArrowRight"&&!o||I==="ArrowLeft"&&o):{if(f)return;if(ne(t.value,c)){const m=Be(t.value,c);m&&(e.focusItem(r,m),r.preventDefault())}else p(c)&&(e.setItemExpansion({event:r,itemId:c}),r.preventDefault());break}case(I==="ArrowLeft"&&!o||I==="ArrowRight"&&o):{if(f)return;if(p(c)&&ne(t.value,c))e.setItemExpansion({event:r,itemId:c}),r.preventDefault();else{const m=ve(t.value,c);m&&(e.focusItem(r,m),r.preventDefault())}break}case I==="Home":{l(c)&&g&&f&&r.shiftKey?e.selectRangeFromStartToItem(r,c):e.focusItem(r,We(t.value)),r.preventDefault();break}case I==="End":{l(c)&&g&&f&&r.shiftKey?e.selectRangeFromItemToEnd(r,c):e.focusItem(r,un(t.value)),r.preventDefault();break}case I==="*":{e.expandAllSiblings(r,c),r.preventDefault();break}case(String.fromCharCode(r.keyCode)==="A"&&f&&g&&Ge(t.value)):{e.selectAllNavigableItems(r),r.preventDefault();break}case(!f&&!r.shiftKey&&_o(I)):{const m=i(c,I);m!=null&&(e.focusItem(r,m),r.preventDefault());break}}}}}};hn.params={};function Uo(e){return e.replace(/["\\]/g,"\\$&")}const gn=C.createContext(null);function bn(e){const{children:t,itemId:n=null,idAttribute:o}=e,{instance:s,store:a,rootRef:u}=be(),i=C.useRef(new Map);C.useEffect(()=>{if(!u.current)return;const p=N(a.value,n??null)??[],d=Uo(o??u.current.id),r=u.current.querySelectorAll(`${n==null?"":`*[id="${d}"] `}[role="treeitem"]:not(*[id="${d}"] [role="treeitem"] [role="treeitem"])`),c=Array.from(r).map(I=>i.current.get(I.id));(c.length!==p.length||c.some((I,g)=>I!==p[g]))&&s.setJSXItemsOrderedChildrenIds(n??null,c)});const l=C.useMemo(()=>({registerChild:(p,d)=>i.current.set(p,d),unregisterChild:p=>i.current.delete(p),parentId:n}),[n]);return h.jsx(gn.Provider,{value:l,children:t})}const Ho=e=>e.lazyLoading,Ko=e=>e.lazyLoading,In=j([Ho],e=>e.dataSource),Wo=j([Ko],e=>!!e?.enabled),Go=j([In,(e,t)=>t],(e,t)=>e.loading[t]||!1),qo=j([In,(e,t)=>t],(e,t)=>e.errors[t]||null),Et=e=>Array.isArray(e)?e.length>0&&e.some(Et):!!e,Xo=({itemId:e,children:t})=>{const{instance:n,store:o,publicAPI:s}=be(),a=$(o,Qe,e),u=$(o,Wo),i=$(o,fe),l=$(o,T=>u?Go(T,e):!1),p=$(o,T=>u?!!qo(T,e):!1),d=Et(t)||a,r=$(o,ne,e),c=$(o,No,e),f=$(o,ge,e),I=$(o,Se,e),g=$(o,Pe,e),m=$(o,et,e),b={expandable:d,expanded:r,focused:c,selected:f,disabled:I,editing:g,editable:m,loading:l,error:p},x=T=>{if(b.disabled)return;b.focused||n.focusItem(T,e);const A=i&&(T.shiftKey||T.ctrlKey||T.metaKey);b.expandable&&!(A&&ne(o.value,e))&&n.setItemExpansion({event:T,itemId:e})},w=T=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(T,e),i&&(T.shiftKey||T.ctrlKey||T.metaKey)?T.shiftKey?n.expandSelectionRange(T,e):n.setItemSelection({event:T,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:T,itemId:e,shouldBeSelected:!0})},S=T=>{const A=T.nativeEvent.shiftKey;i&&A?n.expandSelectionRange(T,e):n.setItemSelection({event:T,itemId:e,keepExistingSelection:i,shouldBeSelected:T.target.checked})},k=()=>{He(n,ie)&&(g?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:x,handleSelection:w,handleCheckboxSelection:S,toggleItemEditing:k,handleSaveItemLabel:(T,A)=>{He(n,ie)&&Pe(o.value,e)&&(n.updateItemLabel(e,A),k(),n.focusItem(T,e))},handleCancelItemLabelEditing:T=>{He(n,ie)&&Pe(o.value,e)&&(k(),n.focusItem(T,e))}},status:b,publicAPI:s}},Ae=({instance:e,store:t})=>{e.preventItemUpdates();const n=Q(a=>(t.update(u=>{if(u.items.itemMetaLookup[a.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${a.id}"`].join(`
`));return y({},u,{items:y({},u.items,{itemMetaLookup:y({},u.items.itemMetaLookup,{[a.id]:a}),itemModelLookup:y({},u.items.itemModelLookup,{[a.id]:{id:a.id,label:a.label??""}})})})}),()=>{t.update(u=>{const i=y({},u.items.itemMetaLookup),l=y({},u.items.itemModelLookup);return delete i[a.id],delete l[a.id],y({},u,{items:y({},u.items,{itemMetaLookup:i,itemModelLookup:l})})}),Te(e,"removeItem",{id:a.id})})),o=(a,u)=>{const i=a??Ee;t.update(l=>y({},l,{items:y({},l.items,{itemOrderedChildrenIdsLookup:y({},l.items.itemOrderedChildrenIdsLookup,{[i]:u}),itemChildrenIndexesLookup:y({},l.items.itemChildrenIndexesLookup,{[i]:nn(u)})})}))},s=Q((a,u)=>(e.updateFirstCharMap(i=>(i[a]=u,i)),()=>{e.updateFirstCharMap(i=>{const l=y({},i);return delete l[a],l})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:o,mapFirstCharFromJSX:s}}},Jo=({props:e,rootRef:t,contentRef:n})=>{const{instance:o,store:s}=be(),{children:a,disabled:u=!1,label:i,itemId:l,id:p}=e,d=C.useContext(gn);if(d==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:r,unregisterChild:c,parentId:f}=d,I=Et(a),g=C.useRef(null),m=Re(g,n),b=$(s,De);return we(()=>{const x=Je({itemId:l,treeId:b,id:p});return r(x,l),()=>{c(x),c(x)}},[s,o,r,c,l,p,b]),we(()=>o.insertJSXItem({id:l,idAttribute:p,parentId:f,expandable:I,disabled:u}),[o,f,l,I,u,p]),C.useEffect(()=>{if(i)return o.mapFirstCharFromJSX(l,(g.current?.textContent??"").substring(0,1).toLowerCase())},[o,l,i]),{contentRef:m,rootRef:t}};Ae.itemPlugin=Jo;Ae.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const o=C.useContext(Me);return h.jsx(bn,{itemId:t,idAttribute:n,children:h.jsx(Me.Provider,{value:o+1,children:e})})};Ae.wrapRoot=({children:e})=>h.jsx(bn,{itemId:null,idAttribute:null,children:h.jsx(Me.Provider,{value:0,children:e})});Ae.params={};const Yo=[Oe,Ze,Ve,vt,hn,Ae],Qo=["slots","slotProps"],Zo=qt(),er=e=>{const{classes:t}=e;return C.useMemo(()=>ce({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},On,t),[t])},tr=z("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),nr=[],or=C.forwardRef(function(t,n){const o=Zo({props:t,name:"MuiSimpleTreeView"}),{slots:s,slotProps:a}=o,u=qe(o,Qo),{getRootProps:i,contextValue:l}=ho({plugins:Yo,rootRef:n,props:y({},u,{items:nr})}),p=er(o),d=s?.root??tr,r=Y({elementType:d,externalSlotProps:a?.root,className:p.root,getSlotProps:i,ownerState:o});return h.jsx(go,{contextValue:l,classes:p,slots:s,slotProps:a,children:h.jsx(d,y({},r))})});function rr(e){return le("MuiCollapse",e)}ae("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const sr=e=>{const{orientation:t,classes:n}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ce(o,rr,n)},ir=z("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(je(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),lr=z("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ar=z("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),gt=C.forwardRef(function(t,n){const o=Le({props:t,name:"MuiCollapse"}),{addEndListener:s,children:a,className:u,collapsedSize:i="0px",component:l,easing:p,in:d,onEnter:r,onEntered:c,onEntering:f,onExit:I,onExited:g,onExiting:m,orientation:b="vertical",style:x,timeout:w=wn.standard,TransitionComponent:S=En,...k}=o,M={...o,orientation:b,collapsedSize:i},L=sr(M),O=Kt(),T=Sn(),A=C.useRef(null),H=C.useRef(),E=typeof i=="number"?`${i}px`:i,D=b==="horizontal",V=D?"width":"height",F=C.useRef(null),B=Re(n,F),G=R=>J=>{if(R){const X=F.current;J===void 0?R(X):R(X,J)}},q=()=>A.current?A.current[D?"clientWidth":"clientHeight"]:0,oe=G((R,J)=>{A.current&&D&&(A.current.style.position="absolute"),R.style[V]=E,r&&r(R,J)}),re=G((R,J)=>{const X=q();A.current&&D&&(A.current.style.position="");const{duration:se,easing:P}=Tt({style:x,timeout:w,easing:p},{mode:"enter"});if(w==="auto"){const v=O.transitions.getAutoHeightDuration(X);R.style.transitionDuration=`${v}ms`,H.current=v}else R.style.transitionDuration=typeof se=="string"?se:`${se}ms`;R.style[V]=`${X}px`,R.style.transitionTimingFunction=P,f&&f(R,J)}),xe=G((R,J)=>{R.style[V]="auto",c&&c(R,J)}),ue=G(R=>{R.style[V]=`${q()}px`,I&&I(R)}),ye=G(g),de=G(R=>{const J=q(),{duration:X,easing:se}=Tt({style:x,timeout:w,easing:p},{mode:"exit"});if(w==="auto"){const P=O.transitions.getAutoHeightDuration(J);R.style.transitionDuration=`${P}ms`,H.current=P}else R.style.transitionDuration=typeof X=="string"?X:`${X}ms`;R.style[V]=E,R.style.transitionTimingFunction=se,m&&m(R)}),_=R=>{w==="auto"&&T.start(H.current||0,R),s&&s(F.current,R)};return h.jsx(S,{in:d,onEnter:oe,onEntered:xe,onEntering:re,onExit:ue,onExited:ye,onExiting:de,addEndListener:_,nodeRef:F,timeout:w==="auto"?null:w,...k,children:(R,{ownerState:J,...X})=>h.jsx(ir,{as:l,className:K(L.root,u,{entered:L.entered,exited:!d&&E==="0px"&&L.hidden}[R]),style:{[D?"minWidth":"minHeight"]:E,...x},ref:B,ownerState:{...M,state:R},...X,children:h.jsx(lr,{ownerState:{...M,state:R},className:L.wrapper,ref:A,children:h.jsx(ar,{ownerState:{...M,state:R},className:L.wrapperInner,children:a})})})})});gt&&(gt.muiSupportAuto=!0);function cr(e){return le("PrivateSwitchBase",e)}ae("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ur=e=>{const{classes:t,checked:n,disabled:o,edge:s}=e,a={root:["root",n&&"checked",o&&"disabled",s&&`edge${he(s)}`],input:["input"]};return ce(a,cr,t)},dr=z(Wt,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),pr=z("input",{name:"MuiSwitchBase",shouldForwardProp:Gt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),fr=C.forwardRef(function(t,n){const{autoFocus:o,checked:s,checkedIcon:a,defaultChecked:u,disabled:i,disableFocusRipple:l=!1,edge:p=!1,icon:d,id:r,inputProps:c,inputRef:f,name:I,onBlur:g,onChange:m,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:k,value:M,slots:L={},slotProps:O={},...T}=t,[A,H]=Tn({controlled:s,default:!!u,name:"SwitchBase",state:"checked"}),E=kn(),D=_=>{b&&b(_),E&&E.onFocus&&E.onFocus(_)},V=_=>{g&&g(_),E&&E.onBlur&&E.onBlur(_)},F=_=>{if(_.nativeEvent.defaultPrevented)return;const R=_.target.checked;H(R),m&&m(_,R)};let B=i;E&&typeof B>"u"&&(B=E.disabled);const G=k==="checkbox"||k==="radio",q={...t,checked:A,disabled:B,disableFocusRipple:l,edge:p},oe=ur(q),re={slots:L,slotProps:{input:c,...O}},[xe,ue]=lt("root",{ref:n,elementType:dr,className:oe.root,shouldForwardComponentProp:!0,externalForwardedProps:{...re,component:"span",...T},getSlotProps:_=>({..._,onFocus:R=>{_.onFocus?.(R),D(R)},onBlur:R=>{_.onBlur?.(R),V(R)}}),ownerState:q,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:B,role:void 0,tabIndex:null}}),[ye,de]=lt("input",{ref:f,elementType:pr,className:oe.input,externalForwardedProps:re,getSlotProps:_=>({..._,onChange:R=>{_.onChange?.(R),F(R)}}),ownerState:q,additionalProps:{autoFocus:o,checked:s,defaultChecked:u,disabled:B,id:G?r:void 0,name:I,readOnly:x,required:w,tabIndex:S,type:k,...k==="checkbox"&&M===void 0?{}:{value:M}}});return h.jsxs(xe,{...ue,children:[h.jsx(ye,{...de}),A?a:d]})}),mr=Z(h.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),hr=Z(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),gr=Z(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function br(e){return le("MuiCheckbox",e)}const it=ae("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ir=e=>{const{classes:t,indeterminate:n,color:o,size:s}=e,a={root:["root",n&&"indeterminate",`color${he(o)}`,`size${he(s)}`]},u=ce(a,br,t);return{...t,...u}},xr=z(fr,{shouldForwardProp:e=>Gt(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${he(n.size)}`],n.color!=="default"&&t[`color${he(n.color)}`]]}})(je(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:te(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(at()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:te(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(at()).map(([t])=>({props:{color:t},style:{[`&.${it.checked}, &.${it.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${it.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),yr=h.jsx(hr,{}),Cr=h.jsx(mr,{}),vr=h.jsx(gr,{}),wr=C.forwardRef(function(t,n){const o=Le({props:t,name:"MuiCheckbox"}),{checkedIcon:s=yr,color:a="primary",icon:u=Cr,indeterminate:i=!1,indeterminateIcon:l=vr,inputProps:p,size:d="medium",disableRipple:r=!1,className:c,slots:f={},slotProps:I={},...g}=o,m=i?l:u,b=i?l:s,x={...o,disableRipple:r,color:a,indeterminate:i,size:d},w=Ir(x),S=I.input??p,[k,M]=lt("root",{ref:n,elementType:xr,className:K(w.root,c),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:I,...g},ownerState:x,additionalProps:{type:"checkbox",icon:C.cloneElement(m,{fontSize:m.props.fontSize??d}),checkedIcon:C.cloneElement(b,{fontSize:b.props.fontSize??d}),disableRipple:r,slots:f,slotProps:{input:Pn(typeof S=="function"?S(x):S,{"data-indeterminate":i})}}});return h.jsx(k,{...M,classes:w})}),Er=e=>{const{runItemPlugins:t,instance:n,publicAPI:o,store:s}=be(),a=C.useContext(Me),u=$(s,(...P)=>typeof a=="function"?a(...P):a,e.itemId),{id:i,itemId:l,label:p,children:d,rootRef:r}=e,{rootRef:c,contentRef:f,propsEnhancers:I}=t(e),{interactions:g,status:m}=Xo({itemId:l,children:d}),b=C.useRef(null),x=C.useRef(null),w=Re(r,c,b),S=Re(f,x),k=C.useRef(null),M=$(s,De),L=$(s,Ct,l),O=$(s,fn),T=Je({itemId:l,treeId:M,id:i}),A=$(s,$o,l),H={rootRefObject:b,contentRefObject:x,interactions:g},E=P=>v=>{P.onFocus?.(v),!v.defaultMuiPrevented&&!m.focused&&me(s.value,l)&&v.currentTarget===v.target&&n.focusItem(v,l)},D=P=>v=>{if(P.onBlur?.(v),v.defaultMuiPrevented)return;const U=n.getItemDOMElement(l);m.editing||v.relatedTarget&&mt(v.relatedTarget,U)&&(v.target&&v.target?.dataset?.element==="labelInput"&&mt(v.target,U)||v.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},V=P=>v=>{P.onKeyDown?.(v),!(v.defaultMuiPrevented||v.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(v,l)},F=P=>v=>{P.onDoubleClick?.(v),!v.defaultMuiPrevented&&g.toggleItemEditing()},B=P=>v=>{P.onClick?.(v),n.handleItemClick(v,l),!(v.defaultMuiPrevented||k.current?.contains(v.target))&&(Bt(s.value)==="content"&&g.handleExpansion(v),O||g.handleSelection(v))},G=P=>v=>{P.onMouseDown?.(v),!v.defaultMuiPrevented&&(v.shiftKey||v.ctrlKey||v.metaKey||m.disabled)&&v.preventDefault()},q=P=>v=>{P.onClick?.(v),!v.defaultMuiPrevented&&Bt(s.value)==="iconContainer"&&g.handleExpansion(v)};return{getContextProviderProps:()=>({itemId:l,id:i}),getRootProps:(P={})=>{const v=y({},ee(e),ee(P));let U;m.selected?U=!0:L?U=!1:U=void 0;const pe=y({},v,{ref:w,role:"treeitem",tabIndex:A?0:-1,id:T,"aria-expanded":m.expandable?m.expanded:void 0,"aria-selected":U,"aria-disabled":m.disabled||void 0},P,{style:y({},P.style??{},{"--TreeView-itemDepth":u}),onFocus:E(v),onBlur:D(v),onKeyDown:V(v)}),ze=I.root?.(y({},H,{externalEventHandlers:v}))??{};return y({},pe,ze)},getContentProps:(P={})=>{const v=ee(P),U=y({},v,P,{ref:S,onClick:B(v),onMouseDown:G(v),status:m});["expanded","selected","focused","disabled","editing","editable"].forEach(ze=>{m[ze]&&(U[`data-${ze}`]="")});const pe=I.content?.(y({},H,{externalEventHandlers:v}))??{};return y({},U,pe)},getGroupTransitionProps:(P={})=>{const v=ee(P);return y({},v,{unmountOnExit:!0,component:"ul",role:"group",in:m.expanded,children:d},P)},getIconContainerProps:(P={})=>{const v=ee(P);return y({},v,P,{onClick:q(v)})},getCheckboxProps:(P={})=>{const v=ee(P),U=y({},v,{ref:k},P),pe=I.checkbox?.(y({},H,{externalEventHandlers:v}))??{};return y({},U,pe)},getLabelProps:(P={})=>{const v=y({},ee(P)),U=y({},v,{children:p},P,{onDoubleClick:F(v)}),pe=I.label?.(y({},H,{externalEventHandlers:v}))??{};return y({},pe,U)},getLabelInputProps:(P={})=>{const v=ee(P),U=I.labelInput?.(y({},H,{externalEventHandlers:v}))??{};return y({},P,U)},getDragAndDropOverlayProps:(P={})=>{const v=ee(P),U=I.dragAndDropOverlay?.(y({},H,{externalEventHandlers:v}))??{};return y({},P,U)},getErrorContainerProps:(P={})=>{const v=ee(P);return y({},v,P)},getLoadingContainerProps:(P={})=>{const v=ee(P);return y({size:"12px",thickness:6},v,P)},rootRef:w,status:m,publicAPI:o}};function Sr(e){return le("MuiTreeItem",e)}ae("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]);const Tr=Z(h.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),kr=Z(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function Pr(e){const{slots:t,slotProps:n,status:o}=e,{slots:s,slotProps:a}=tn(),u={collapseIcon:t?.collapseIcon??s.collapseIcon??kr,expandIcon:t?.expandIcon??s.expandIcon??Tr,endIcon:t?.endIcon??s.endIcon,icon:t?.icon};let i;u?.icon?i="icon":o.expandable?o.expanded?i="collapseIcon":i="expandIcon":i="endIcon";const l=u[i],p=Y({elementType:l,externalSlotProps:d=>y({},kt(a[i],d),kt(n?.[i],d)),ownerState:{}});return l?h.jsx(l,y({},p)):null}const Rr=z("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>bt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:te(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function Mr(e){return e.action==null?null:h.jsx(Rr,y({},e))}function Lr(e){const{children:t,itemId:n,id:o}=e,{wrapItem:s,instance:a,store:u}=be(),i=$(u,De),l=Je({itemId:n,treeId:i,id:o});return h.jsx(C.Fragment,{children:s({children:t,itemId:n,instance:a,idAttribute:l})})}const jr=z("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>y({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),Dr=["visible"],Or=["id","itemId","label","disabled","children","slots","slotProps","classes"],Fr=qt(),Vr=z("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),Ar=z("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>bt(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),zr=z("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>bt(e)&&e!=="editable"})(({theme:e})=>y({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),$r=z("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),Nr=z(gt,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),Br=z("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),_r=z(It,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),Ur=z(C.forwardRef((e,t)=>{const{visible:n}=e,o=qe(e,Dr);return n?h.jsx(wr,y({},o,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),Hr=e=>{const{classes:t}=tn(),n=y({},e,{root:K(e?.root,t.root),content:K(e?.content,t.itemContent),iconContainer:K(e?.iconContainer,t.itemIconContainer),checkbox:K(e?.checkbox,t.itemCheckbox),label:K(e?.label,t.itemLabel),groupTransition:K(e?.groupTransition,t.itemGroupTransition),labelInput:K(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:K(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:K(e?.errorIcon,t.itemErrorIcon),loadingIcon:K(e?.loadingIcon,t.itemLoadingIcon)});return ce({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},Sr,n)},Kr=C.forwardRef(function(t,n){const o=Fr({props:t,name:"MuiTreeItem"}),{id:s,itemId:a,label:u,disabled:i,children:l,slots:p={},slotProps:d={},classes:r}=o,c=qe(o,Or),{getContextProviderProps:f,getRootProps:I,getContentProps:g,getIconContainerProps:m,getCheckboxProps:b,getLabelProps:x,getGroupTransitionProps:w,getLabelInputProps:S,getDragAndDropOverlayProps:k,getErrorContainerProps:M,getLoadingContainerProps:L,status:O}=Er({id:s,itemId:a,children:l,label:u,disabled:i}),T=Hr(r),A=p.root??Vr,H=Y({elementType:A,getSlotProps:I,externalForwardedProps:c,externalSlotProps:d.root,additionalProps:{ref:n},ownerState:{},className:T.root}),E=p.content??Ar,D=Y({elementType:E,getSlotProps:g,externalSlotProps:d.content,ownerState:{},className:K(T.content,O.expanded&&T.expanded,O.selected&&T.selected,O.focused&&T.focused,O.disabled&&T.disabled,O.editing&&T.editing,O.editable&&T.editable)}),V=p.iconContainer??$r,F=Y({elementType:V,getSlotProps:m,externalSlotProps:d.iconContainer,ownerState:{},className:T.iconContainer}),B=p.label??zr,G=Y({elementType:B,getSlotProps:x,externalSlotProps:d.label,ownerState:{},className:T.label}),q=p.checkbox??Ur,oe=Y({elementType:q,getSlotProps:b,externalSlotProps:d.checkbox,ownerState:{},className:T.checkbox}),re=p.groupTransition??void 0,xe=Y({elementType:re,getSlotProps:w,externalSlotProps:d.groupTransition,ownerState:{},className:T.groupTransition}),ue=p.labelInput??jr,ye=Y({elementType:ue,getSlotProps:S,externalSlotProps:d.labelInput,ownerState:{},className:T.labelInput}),de=p.dragAndDropOverlay??Mr,_=Y({elementType:de,getSlotProps:k,externalSlotProps:d.dragAndDropOverlay,ownerState:{},className:T.dragAndDropOverlay}),R=p.errorIcon??Br,J=Y({elementType:R,getSlotProps:M,externalSlotProps:d.errorIcon,ownerState:{},className:T.errorIcon}),X=p.loadingIcon??_r,se=Y({elementType:X,getSlotProps:L,externalSlotProps:d.loadingIcon,ownerState:{},className:T.loadingIcon});return h.jsx(Lr,y({},f(),{children:h.jsxs(A,y({},H,{children:[h.jsxs(E,y({},D,{children:[h.jsxs(V,y({},F,{children:[O.error&&h.jsx(R,y({},J)),O.loading?h.jsx(X,y({},se)):h.jsx(Pr,{status:O,slots:p,slotProps:d})]})),h.jsx(q,y({},oe)),O.editing?h.jsx(ue,y({},ye)):h.jsx(B,y({},G)),h.jsx(de,y({},_))]})),l&&h.jsx(Nr,y({as:re},xe))]}))}))}),Wr=Z(h.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Gr=z(Wt,{name:"MuiBreadcrumbCollapsed"})(je(({theme:e})=>({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`,...e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}},"&:active":{boxShadow:e.shadows[0],...e.palette.mode==="light"?{backgroundColor:Pt(e.palette.grey[200],.12)}:{backgroundColor:Pt(e.palette.grey[600],.12)}}}))),qr=z(Wr)({width:24,height:16});function Xr(e){const{slots:t={},slotProps:n={},...o}=e,s=e;return h.jsx("li",{children:h.jsx(Gr,{focusRipple:!0,...o,ownerState:s,children:h.jsx(qr,{as:t.CollapsedIcon,ownerState:s,...n.collapsedIcon})})})}function Jr(e){return le("MuiBreadcrumbs",e)}const Yr=ae("MuiBreadcrumbs",["root","ol","li","separator"]),Qr=e=>{const{classes:t}=e;return ce({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Jr,t)},Zr=z(Xe,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${Yr.li}`]:t.li},t.root]})({}),es=z("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),ts=z("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function ns(e,t,n,o){return e.reduce((s,a,u)=>(u<e.length-1?s=s.concat(a,h.jsx(ts,{"aria-hidden":!0,className:t,ownerState:o,children:n},`separator-${u}`)):s.push(a),s),[])}const os=C.forwardRef(function(t,n){const o=Le({props:t,name:"MuiBreadcrumbs"}),{children:s,className:a,component:u="nav",slots:i={},slotProps:l={},expandText:p="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:r=1,maxItems:c=8,separator:f="/",...I}=o,[g,m]=C.useState(!1),b={...o,component:u,expanded:g,expandText:p,itemsAfterCollapse:d,itemsBeforeCollapse:r,maxItems:c,separator:f},x=Qr(b),w=Y({elementType:i.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:b}),S=C.useRef(null),k=L=>{const O=()=>{m(!0);const T=S.current.querySelector("a[href],button,[tabindex]");T&&T.focus()};return r+d>=L.length?L:[...L.slice(0,r),h.jsx(Xr,{"aria-label":p,slots:{CollapsedIcon:i.CollapsedIcon},slotProps:{collapsedIcon:w},onClick:O},"ellipsis"),...L.slice(L.length-d,L.length)]},M=C.Children.toArray(s).filter(L=>C.isValidElement(L)).map((L,O)=>h.jsx("li",{className:x.li,children:L},`child-${O}`));return h.jsx(Zr,{ref:n,component:u,color:"textSecondary",className:K(x.root,a),ownerState:b,...I,children:h.jsx(es,{className:x.ol,ref:S,ownerState:b,children:ns(g||c&&M.length<=c?M:k(M),x.separator,f,b)})})});function rs(e){return le("MuiLink",e)}const ss=ae("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),is=({theme:e,ownerState:t})=>{const n=t.color,o=$e(e,`palette.${n}.main`,!1)||$e(e,`palette.${n}`,!1)||t.color,s=$e(e,`palette.${n}.mainChannel`)||$e(e,`palette.${n}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:te(o,.4)},Ut={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ls=e=>{const{classes:t,component:n,focusVisible:o,underline:s}=e,a={root:["root",`underline${he(s)}`,n==="button"&&"button",o&&"focusVisible"]};return ce(a,rs,t)},as=z(Xe,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${he(n.underline)}`],n.component==="button"&&t.button]}})(je(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(at()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:te(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:te(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:te(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ss.focusVisible}`]:{outline:"auto"}}}]}))),cs=C.forwardRef(function(t,n){const o=Le({props:t,name:"MuiLink"}),s=Kt(),{className:a,color:u="primary",component:i="a",onBlur:l,onFocus:p,TypographyClasses:d,underline:r="always",variant:c="inherit",sx:f,...I}=o,[g,m]=C.useState(!1),b=k=>{Rt(k.target)||m(!1),l&&l(k)},x=k=>{Rt(k.target)&&m(!0),p&&p(k)},w={...o,color:u,component:i,focusVisible:g,underline:r,variant:c},S=ls(w);return h.jsx(as,{color:u,className:K(S.root,a),classes:d,component:i,onBlur:b,onFocus:x,ref:n,ownerState:w,variant:c,...I,sx:[...Ut[u]===void 0?[{color:u}]:[],...Array.isArray(f)?f:[f]],style:{...I.style,...r==="always"&&u!=="inherit"&&!Ut[u]&&{"--Link-underlineColor":is({theme:s,ownerState:w})}}})});function us(e){return le("MuiToolbar",e)}ae("MuiToolbar",["root","gutters","regular","dense"]);const ds=e=>{const{classes:t,disableGutters:n,variant:o}=e;return ce({root:["root",!n&&"gutters",o]},us,t)},ps=z("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(je(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),fs=C.forwardRef(function(t,n){const o=Le({props:t,name:"MuiToolbar"}),{className:s,component:a="div",disableGutters:u=!1,variant:i="regular",...l}=o,p={...o,component:a,disableGutters:u,variant:i},d=ds(p);return h.jsx(ps,{as:a,className:K(d.root,s),ref:n,ownerState:p,...l})}),ms=Z(h.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),hs=Z(h.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),gs=Z(h.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),bs=Z(h.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),Is=Z(h.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),xs=Z(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}));function ys(e){if(e){if(typeof e=="string")return e;if(e["time.Time"])return e["time.Time"]}}const Cs=({fileInfo:e,isOpen:t,onClose:n})=>{if(!t||!e)return null;const o=a=>{if(!a)return"0 B";const u=["B","KB","MB","GB"];let i=a,l=0;for(;i>=1024&&l<u.length-1;)i/=1024,l++;return`${i.toFixed(1)} ${u[l]}`},s=a=>a?new Date(a).toLocaleString("ja-JP"):"-";return h.jsx("div",{className:"modal-overlay",onClick:n,children:h.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:e.name}),h.jsx("button",{className:"close-button",onClick:n,children:""})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("div",{className:"info-row",children:[h.jsx("span",{className:"label",children:":"}),h.jsx("span",{className:"value",children:e.is_directory?"":""})]}),h.jsxs("div",{className:"info-row",children:[h.jsx("span",{className:"label",children:":"}),h.jsx("span",{className:"value",children:o(e.size)})]}),h.jsxs("div",{className:"info-row",children:[h.jsx("span",{className:"label",children:":"}),h.jsx("span",{className:"value",children:e.path})]}),h.jsxs("div",{className:"info-row",children:[h.jsx("span",{className:"label",children:":"}),h.jsx("span",{className:"value",children:s(ys(e.modified_time))})]})]})]})})},xn=St.memo(({itemId:e,node:t,onNodeClick:n,onNodeExpand:o,...s})=>{const a=(l,p=!1)=>{if(l.isDirectory)return p?h.jsx(hs,{color:"primary"}):h.jsx(ms,{color:"primary"});if(l.name===".detail.yaml")return h.jsx("span",{style:{fontSize:"16px"},children:""});switch(l.name?.split(".").pop()?.toLowerCase()){case"pdf":return h.jsx("span",{style:{fontSize:"16px"},children:""});case"xlsx":case"xls":case"xlsm":return h.jsx("span",{style:{fontSize:"16px"},children:""});case"jpg":case"jpeg":case"png":case"gif":return h.jsx("span",{style:{fontSize:"16px"},children:""});case"mp4":case"avi":case"mov":return h.jsx("span",{style:{fontSize:"16px"},children:""});case"mp3":case"wav":return h.jsx("span",{style:{fontSize:"16px"},children:""});default:return h.jsx(bs,{color:"action"})}},u=l=>{if(!l||l===0)return"";const p=["B","KB","MB","GB"];let d=l,r=0;for(;d>=1024&&r<p.length-1;)d/=1024,r++;return` (${d.toFixed(1)} ${p[r]})`},i=St.useCallback(l=>{l.stopPropagation(),n(t)},[t,n]);return h.jsx(Kr,{itemId:e,onClick:i,label:h.jsxs(Ce,{sx:{display:"flex",alignItems:"center",py:.5},children:[a(t),h.jsxs(Xe,{variant:"body2",sx:{flexGrow:1,mr:1,ml:1},children:[t.name,!t.isDirectory&&u(t.size)]}),t.isLoading&&h.jsx(It,{size:16}),t.name===".detail.yaml"&&h.jsx(Rn,{label:"",size:"small",color:"info",variant:"outlined",sx:{ml:1,fontSize:"10px",height:"20px"}})]}),...s,children:t.children?.map(l=>h.jsx(xn,{itemId:l.id,node:l,onNodeClick:n,onNodeExpand:o},l.id))})}),vs=()=>{const[e,t]=C.useState([]),[n,o]=C.useState(!1),[s,a]=C.useState(null),[u,i]=C.useState("~/penguin"),[l,p]=C.useState("~/penguin"),[d,r]=C.useState(null),[c,f]=C.useState(!1),[I,g]=C.useState([]),{setFileCount:m,setCurrentPath:b}=Dn(),x=E=>E==="~/penguin"||E==="/home/shin/penguin"?"":E.startsWith("~/penguin/")?E.substring(10):E.startsWith("/home/shin/penguin/")?E.substring(19):E,w=(E,D)=>({id:`${D}/${E.name}`,name:E.name,path:E.path||`${D}/${E.name}`,isDirectory:E.is_directory,size:E.size,modifiedTime:E.modified_time,children:E.is_directory?[]:void 0,isLoaded:!E.is_directory,isLoading:!1}),S=C.useCallback(async(E,D=!1)=>{const V=E||"~/penguin",F=x(V);o(!0),a(null);try{const B=await Mn({query:F?{path:F}:{}});if(B.data){const G=B.data,q=G.map(oe=>w(oe,V));return(E==="~/penguin"||!E||D)&&(t(q),m(G.length),b(V),i(V)),q}else if(B.error)throw new Error("API: "+JSON.stringify(B.error))}catch(B){return console.error("Error loading files:",B),a(B instanceof Error?B.message:""),[]}finally{o(!1)}},[m,b]);C.useEffect(()=>{S()},[S]);const k=C.useCallback(async(E,D)=>{if(!(!D.isDirectory||D.isLoaded||D.isLoading)){t(V=>M(V,E,{...D,isLoading:!0}));try{const V=await S(D.path,!1);t(F=>M(F,E,{...D,children:V,isLoaded:!0,isLoading:!1}))}catch{t(F=>M(F,E,{...D,isLoading:!1}))}}},[S]),M=(E,D,V)=>E.map(F=>F.id===D?V:F.children?{...F,children:M(F.children,D,V)}:F),L=C.useCallback(E=>{E.isDirectory?g(D=>{if(D.includes(E.id))return D.filter(F=>F!==E.id);{const F=[...D,E.id];return!E.isLoaded&&!E.isLoading&&setTimeout(()=>k(E.id,E),0),F}}):(r(E),f(!0))},[k]),O=E=>{E.preventDefault(),l!==u&&(t([]),g([]),S(l,!0))},T=()=>{t([]),g([]),S(u,!0)},A=()=>{p("~/penguin"),t([]),g([]),S("~/penguin",!0)},H=()=>{const E=u.replace("~/penguin","").split("/").filter(Boolean),D=[{label:"penguin",path:"~/penguin"}];let V="~/penguin";return E.forEach(F=>{V+=`/${F}`,D.push({label:F,path:V})}),D};return h.jsxs(Ce,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[h.jsxs(Mt,{elevation:1,sx:{mb:1},children:[h.jsxs(fs,{variant:"dense",children:[h.jsx(Lt,{onClick:A,size:"small",title:"",children:h.jsx(gs,{})}),h.jsx(Lt,{onClick:T,size:"small",title:"",children:h.jsx(Is,{})}),h.jsx(Ce,{component:"form",onSubmit:O,sx:{flexGrow:1,mx:2},children:h.jsx(Ln,{size:"small",fullWidth:!0,value:l,onChange:E=>p(E.target.value),placeholder:"",slotProps:{input:{startAdornment:h.jsx(xs,{sx:{mr:1,color:"action.active"}})}}})})]}),h.jsx(Ce,{sx:{px:2,pb:1},children:h.jsx(os,{children:H().map((E,D)=>h.jsx(cs,{component:"button",variant:"body2",color:D===H().length-1?"text.primary":"inherit",onClick:()=>{p(E.path),E.path!==u&&(t([]),g([]),S(E.path,!0))},underline:"hover",children:E.label},D))})})]}),s&&h.jsx(jn,{severity:"error",sx:{mb:1},children:s}),h.jsxs(Mt,{sx:{flex:1,overflow:"auto",p:1},children:[n&&e.length===0?h.jsx(Ce,{sx:{display:"flex",justifyContent:"center",p:3},children:h.jsx(It,{})}):h.jsx(or,{expandedItems:I,onExpandedItemsChange:()=>{},sx:{flexGrow:1,overflowY:"auto","& .MuiTreeItem-content":{"&:hover":{backgroundColor:"action.hover"}}},children:e.map(E=>h.jsx(xn,{itemId:E.id,node:E,onNodeClick:L,onNodeExpand:k},E.id))}),e.length===0&&!n&&h.jsx(Ce,{sx:{display:"flex",justifyContent:"center",p:3},children:h.jsx(Xe,{color:"text.secondary",children:""})})]}),h.jsx(Cs,{fileInfo:d,isOpen:c,onClose:()=>{f(!1),r(null)}})]})},ks=yn(function(){return h.jsx(vs,{})});export{ks as default};
