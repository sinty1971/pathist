import{a as C,r as Kt,o as m,t as kt,w as Cn}from"./chunk-QMGIS6GS-CRLmNMPd.js";import{g as ae,a as ce,_ as y,b as Ye,u as Me,c as Q,d as Ee,e as vn,f as Y,s as z,h as ue,i as je,j as wn,T as En,k as Wt,l as Sn,m as K,n as Tt,o as De,p as kn,q as Tn,r as ct,t as be,B as Gt,v as qt,w as ne,x as Pn,y as ee,z as ut,A as Z,C as Pt,D as xt,E as _e,F as Rt,G as oe,H as Be,I as Mt,J as ie,K as Rn,L as Mn,M as Ln,P as Lt,N as jt,O as jn}from"./sdk.gen-1y8RMMdH.js";import{u as Dn}from"./FileInfoContext-NxQDI7MG.js";import{u as On}from"./useThemeProps-Q2zdfQ03.js";import"./index-BXUbddt1.js";function Xt(e){return On}function Fn(e){return ae("MuiSimpleTreeView",e)}ce("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);class An{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),a=Array.from(o.regular.keys());for(let u=r.length-1;u>=0;u-=1){const i=r[u];o.highPriority.has(i)&&i.apply(this,n)}for(let u=0;u<a.length;u+=1){const i=a[u];o.regular.has(i)&&i.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...a){o.removeListener(t,r),n.apply(o,a)})}}const Vn=e=>e.isPropagationStopped!==void 0,Jt=()=>{const[e]=C.useState(()=>new An),t=C.useCallback((...o)=>{const[r,a,u={}]=o;u.defaultMuiPrevented=!1,!(Vn(u)&&u.isPropagationStopped())&&e.emit(r,a,u)},[e]),n=C.useCallback((o,r)=>(e.on(o,r),()=>{e.removeListener(o,r)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Jt.params={};const Yt=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};Yt.params={};var ot={exports:{}},rt={},st={exports:{}},it={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt;function zn(){if(Dt)return it;Dt=1;var e=Kt();function t(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,r=e.useEffect,a=e.useLayoutEffect,u=e.useDebugValue;function i(s,c){var f=c(),I=o({inst:{value:f,getSnapshot:c}}),b=I[0].inst,h=I[1];return a(function(){b.value=f,b.getSnapshot=c,l(b)&&h({inst:b})},[s,f,c]),r(function(){return l(b)&&h({inst:b}),s(function(){l(b)&&h({inst:b})})},[s]),u(f),f}function l(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!n(s,f)}catch{return!0}}function p(s,c){return c()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:i;return it.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,it}var Ot;function $n(){return Ot||(Ot=1,st.exports=zn()),st.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft;function Bn(){if(Ft)return rt;Ft=1;var e=Kt(),t=$n();function n(p,d){return p===d&&(p!==0||1/p===1/d)||p!==p&&d!==d}var o=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,a=e.useRef,u=e.useEffect,i=e.useMemo,l=e.useDebugValue;return rt.useSyncExternalStoreWithSelector=function(p,d,s,c,f){var I=a(null);if(I.current===null){var b={hasValue:!1,value:null};I.current=b}else b=I.current;I=i(function(){function g(R){if(!x){if(x=!0,w=R,R=c(R),f!==void 0&&b.hasValue){var L=b.value;if(f(L,R))return k=L}return k=R}if(L=k,o(w,R))return L;var D=c(R);return f!==void 0&&f(L,D)?(w=R,L):(w=R,k=D)}var x=!1,w,k,P=s===void 0?null:s;return[function(){return g(d())},P===null?void 0:function(){return g(P())}]},[d,s,c,f]);var h=r(p,I[0],I[1]);return u(function(){b.hasValue=!0,b.value=h},[h]),l(h),h},rt}var At;function Nn(){return At||(At=1,ot.exports=Bn()),ot.exports}var _n=Nn();const Un=Object.is,$=(e,t,n=void 0,o=Un)=>{const r=a=>t(a,n);return _n.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,r,o)};var qe=Symbol("NOT_FOUND");function Hn(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Kn(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wn(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${t}[${n}]`)}}var Vt=e=>Array.isArray(e)?e:[e];function Gn(e){const t=Array.isArray(e[0])?e[0]:e;return Wn(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qn(e,t){const n=[],{length:o}=e;for(let r=0;r<o;r++)n.push(e[r].apply(null,t));return n}function Xn(e){let t;return{get(n){return t&&e(t.key,n)?t.value:qe},put(n,o){t={key:n,value:o}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Jn(e,t){let n=[];function o(i){const l=n.findIndex(p=>t(i,p.key));if(l>-1){const p=n[l];return l>0&&(n.splice(l,1),n.unshift(p)),p.value}return qe}function r(i,l){o(i)===qe&&(n.unshift({key:i,value:l}),n.length>e&&n.pop())}function a(){return n}function u(){n=[]}return{get:o,put:r,getEntries:a,clear:u}}var Yn=(e,t)=>e===t;function Qn(e){return function(n,o){if(n===null||o===null||n.length!==o.length)return!1;const{length:r}=n;for(let a=0;a<r;a++)if(!e(n[a],o[a]))return!1;return!0}}function Zn(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:o=Yn,maxSize:r=1,resultEqualityCheck:a}=n,u=Qn(o);let i=0;const l=r<=1?Xn(u):Jn(r,u);function p(){let d=l.get(arguments);if(d===qe){if(d=e.apply(null,arguments),i++,a){const c=l.getEntries().find(f=>a(f.value,d));c&&(d=c.value,i!==0&&i--)}l.put(arguments,d)}return d}return p.clearCache=()=>{l.clear(),p.resetResultsCount()},p.resultsCount=()=>i,p.resetResultsCount=()=>{i=0},p}var eo=class{constructor(e){this.value=e}deref(){return this.value}},to=typeof WeakRef<"u"?WeakRef:eo,no=0,zt=1;function Ne(){return{s:no,v:void 0,o:null,p:null}}function Qt(e,t={}){let n=Ne();const{resultEqualityCheck:o}=t;let r,a=0;function u(){let i=n;const{length:l}=arguments;for(let s=0,c=l;s<c;s++){const f=arguments[s];if(typeof f=="function"||typeof f=="object"&&f!==null){let I=i.o;I===null&&(i.o=I=new WeakMap);const b=I.get(f);b===void 0?(i=Ne(),I.set(f,i)):i=b}else{let I=i.p;I===null&&(i.p=I=new Map);const b=I.get(f);b===void 0?(i=Ne(),I.set(f,i)):i=b}}const p=i;let d;if(i.s===zt)d=i.v;else if(d=e.apply(null,arguments),a++,o){const s=r?.deref?.()??r;s!=null&&o(s,d)&&(d=s,a!==0&&a--),r=typeof d=="object"&&d!==null||typeof d=="function"?new to(d):d}return p.s=zt,p.v=d,d}return u.clearCache=()=>{n=Ne(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function Zt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,o=(...r)=>{let a=0,u=0,i,l={},p=r.pop();typeof p=="object"&&(l=p,p=r.pop()),Hn(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const d={...n,...l},{memoize:s,memoizeOptions:c=[],argsMemoize:f=Qt,argsMemoizeOptions:I=[]}=d,b=Vt(c),h=Vt(I),g=Gn(r),x=s(function(){return a++,p.apply(null,arguments)},...b),w=f(function(){u++;const P=qn(g,arguments);return i=x.apply(null,P),i},...h);return Object.assign(w,{resultFunc:p,memoizedResultFunc:x,dependencies:g,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>i,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:s,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var oo=Zt(Qt),ro=Object.assign((e,t=oo)=>{Kn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),o=n.map(a=>e[a]);return t(o,(...a)=>a.reduce((u,i,l)=>(u[n[l]]=i,u),{}))},{withTypes:()=>ro});const so=Zt({memoize:Zn,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),$t=new WeakMap,j=(...e)=>(n,o)=>{const r=n.cacheKey;let a=$t.get(r);a||(a=new Map,$t.set(r,a));const u=a.get(e);if(u)return u(n,o);const i=so(...e);return a.set(e,i),i(n,o)},io=e=>e.id,Oe=j(io,e=>e.treeId);let Bt=0;const lo=()=>(Bt+=1,`mui-tree-view-${Bt}`),Qe=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,yt=({params:e,store:t})=>{C.useEffect(()=>{t.update(o=>e.id===o.id.providedTreeId&&o.id.treeId!==void 0?o:y({},o,{id:y({},o.id,{treeId:e.id??lo()})}))},[t,e.id]);const n=$(t,Oe);return{getRootProps:()=>({id:n})}};yt.params={id:!0};yt.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const ao=[Jt,Yt,yt],co=["apiRef"],uo=e=>{let{props:{apiRef:t},plugins:n}=e,o=Ye(e.props,co);const r=C.useMemo(()=>{const i={};return n.forEach(l=>{Object.assign(i,l.params)}),i},[n]),{forwardedProps:a,pluginParams:u}=C.useMemo(()=>{const i={},l={};Object.keys(o).forEach(d=>{const s=o[d];r[d]?i[d]=s:l[d]=s});const p=n.reduce((d,s)=>s.applyDefaultValuesToParams?s.applyDefaultValuesToParams({params:d}):d,i);return{forwardedProps:l,pluginParams:p}},[n,o,r]);return{forwardedProps:a,pluginParams:u,apiRef:t}},po=e=>{const{plugins:t,instance:n,publicAPI:o,store:r,rootRef:a}=e,u=C.useCallback(p=>{let d=null,s=null;const c=[],f={};t.forEach(h=>{if(!h.itemPlugin)return;const g=h.itemPlugin({props:p,rootRef:d,contentRef:s});g?.rootRef&&(d=g.rootRef),g?.contentRef&&(s=g.contentRef),g?.propsEnhancers&&(c.push(g.propsEnhancers),Object.keys(g.propsEnhancers).forEach(x=>{f[x]=!0}))});const I=h=>g=>{const x={};return c.forEach(w=>{const k=w[h];k!=null&&Object.assign(x,k(g))}),x},b=Object.fromEntries(Object.keys(f).map(h=>[h,I(h)]));return{contentRef:s,rootRef:d,propsEnhancers:b}},[t]),i=C.useCallback(({itemId:p,children:d,idAttribute:s})=>{let c=d;for(let f=t.length-1;f>=0;f-=1){const I=t[f];I.wrapItem&&(c=I.wrapItem({instance:n,itemId:p,children:c,idAttribute:s}))}return c},[t,n]),l=C.useCallback(({children:p})=>{let d=p;for(let s=t.length-1;s>=0;s-=1){const c=t[s];c.wrapRoot&&(d=c.wrapRoot({children:d}))}return d},[t]);return C.useMemo(()=>({runItemPlugins:u,wrapItem:i,wrapRoot:l,instance:n,publicAPI:o,store:r,rootRef:a}),[u,i,l,n,o,r,a])};class fo{constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{const o=n(this.value);o!==this.value&&(this.value=o,this.listeners.forEach(r=>r(o)))},this.value=t,this.listeners=new Set}}function mo(e){return e.current==null&&(e.current={}),e}function ho(e){const t=C.useRef({});return e?mo(e):t}let Nt=0;const go=({plugins:e,rootRef:t,props:n})=>{const o=C.useMemo(()=>[...ao,...e],[e]),{pluginParams:r,forwardedProps:a,apiRef:u}=uo({plugins:o,props:n}),l=C.useRef({}).current,p=ho(u),d=C.useRef(null),s=Me(d,t),c=C.useRef(null);if(c.current==null){Nt+=1;const g={cacheKey:{id:Nt}};o.forEach(x=>{x.getInitialState&&Object.assign(g,x.getInitialState(r))}),c.current=new fo(g)}const f=po({plugins:o,instance:l,publicAPI:p.current,store:c.current,rootRef:d}),I=[],b=g=>{const x=g({instance:l,params:r,rootRef:d,plugins:o,store:c.current});x.getRootProps&&I.push(x.getRootProps),x.publicAPI&&Object.assign(p.current,x.publicAPI),x.instance&&Object.assign(l,x.instance)};return o.forEach(b),{getRootProps:(g={})=>{const x=y({role:"tree"},a,g,{ref:s});return I.forEach(w=>{Object.assign(x,w(g))}),x},rootRef:s,contextValue:f}},en=C.createContext(null),xe=()=>{const e=C.useContext(en);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},tn=C.createContext({classes:{},slots:{},slotProps:{}}),nn=()=>C.useContext(tn),lt={};function bo(e){const{contextValue:t,classes:n=lt,slots:o=lt,slotProps:r=lt,children:a}=e,u=C.useMemo(()=>({classes:n,slots:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon},slotProps:{collapseIcon:r.collapseIcon,expandIcon:r.expandIcon,endIcon:r.endIcon}}),[n,o.collapseIcon,o.expandIcon,o.endIcon,r.collapseIcon,r.expandIcon,r.endIcon]);return m.jsx(en.Provider,{value:t,children:m.jsx(tn.Provider,{value:u,children:t.wrapRoot({children:a})})})}const Te=(e,t,n)=>{e.$$publishEvent(t,n)},Se="__TREE_VIEW_ROOT_PARENT_ID__",on=e=>{const t={};return e.forEach((n,o)=>{t[n]=o}),t},dt=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},Le=C.createContext(()=>-1),ye=e=>e.items;j(ye,e=>e.loading);j(ye,e=>e.error);const Ze=j(ye,e=>e.itemMetaLookup),Io=[],B=j([ye,(e,t)=>t],(e,t)=>e.itemOrderedChildrenIdsLookup[t??Se]??Io),pt=j([ye,(e,t)=>t],(e,t)=>e.itemModelLookup[t]),W=j([Ze,(e,t)=>t],(e,t)=>e[t??Se]??null),ke=j([Ze,(e,t)=>t],dt),Ct=j([ye,W],(e,t)=>t==null?-1:e.itemChildrenIndexesLookup[t.parentId??Se][t.id]),we=j([W],e=>e?.parentId??null),xo=j([W],e=>e?.depth??0),rn=j([ye],e=>e.disabledItemsFocusable),ge=j([rn,ke],(e,t)=>e?!0:!t),yo=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},ft=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:o,getItemChildren:r,getItemId:a,initialDepth:u=0,initialParentId:i=null,getChildrenCount:l,ignoreChildren:p=!1})=>{const d={},s={},c={[Se]:[]},f=(b,h,g)=>{const x=a?a(b):b.id;yo(x,b,d);const w=o?o(b):b.label;if(w==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const k=r?r(b):b.children;d[x]={id:x,label:w,parentId:g,idAttribute:void 0,expandable:l?l(b)>0:!!k?.length,disabled:n?n(b):!1,depth:h},s[x]=b;const P=g??Se;c[P]||(c[P]=[]),c[P].push(x),p||k?.forEach(R=>f(R,h+1,x))};t?.forEach(b=>f(b,u,i));const I={};return Object.keys(c).forEach(b=>{I[b]=on(c[b])}),{disabledItemsFocusable:e,itemMetaLookup:d,itemModelLookup:s,itemOrderedChildrenIdsLookup:c,itemChildrenIndexesLookup:I}},Fe=({instance:e,params:t,store:n})=>{const o=C.useCallback(g=>pt(n.value,g),[n]),r=C.useCallback(g=>W(n.value,g)?.parentId||null,[n]),a=Q(g=>{n.update(x=>y({},x,{items:y({},x.items,{loading:g})}))}),u=Q(g=>{n.update(x=>y({},x,{items:y({},x.items,{error:g})}))}),i=Q(({itemId:g,shouldBeDisabled:x})=>{n.update(w=>{if(!w.items.itemMetaLookup[g])return w;const k=y({},w.items.itemMetaLookup);return k[g]=y({},k[g],{disabled:x??!k[g].disabled}),y({},w,{items:y({},w.items,{itemMetaLookup:k})})})}),l=C.useCallback(()=>{const g=x=>{const w=pt(n.value,x),k=B(n.value,x);return k.length>0?w.children=k.map(g):delete w.children,w};return B(n.value,null).map(g)},[n]),p=C.useCallback(g=>B(n.value,g),[n]),d=g=>{const x=W(n.value,g);if(x==null)return null;const w=Qe({treeId:Oe(n.value),itemId:g,id:x.idAttribute});return document.getElementById(w)},s=C.useRef(!1),c=C.useCallback(()=>{s.current=!0},[]),f=C.useCallback(()=>s.current,[]),I=({items:g,parentId:x,depth:w,getChildrenCount:k})=>{if(g){const P=ft({disabledItemsFocusable:t.disabledItemsFocusable,items:g,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:k,initialDepth:w,initialParentId:x,ignoreChildren:!0});n.update(R=>{let L;return x?L={itemModelLookup:y({},R.items.itemModelLookup,P.itemModelLookup),itemMetaLookup:y({},R.items.itemMetaLookup,P.itemMetaLookup),itemOrderedChildrenIdsLookup:y({},P.itemOrderedChildrenIdsLookup,R.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:y({},P.itemChildrenIndexesLookup,R.items.itemChildrenIndexesLookup)}:L={itemModelLookup:P.itemModelLookup,itemMetaLookup:P.itemMetaLookup,itemOrderedChildrenIdsLookup:P.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:P.itemChildrenIndexesLookup},Object.values(R.items.itemMetaLookup).forEach(D=>{P.itemMetaLookup[D.id]||Te(e,"removeItem",{id:D.id})}),y({},R,{items:y({},R.items,L)})})}},b=g=>{n.update(x=>{if(!g)return y({},x,{items:y({},x.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}})});const w=Object.keys(x.items.itemMetaLookup).reduce((R,L)=>{const D=x.items.itemMetaLookup[L];return D.parentId===g?(Te(e,"removeItem",{id:D.id}),R):y({},R,{[D.id]:D})},{}),k=x.items.itemOrderedChildrenIdsLookup,P=x.items.itemChildrenIndexesLookup;return delete P[g],delete k[g],y({},x,{items:y({},x.items,{itemMetaLookup:w,itemOrderedChildrenIdsLookup:k,itemChildrenIndexesLookup:P})})})};C.useEffect(()=>{e.areItemUpdatesPrevented()||n.update(g=>{const x=ft({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});return Object.values(g.items.itemMetaLookup).forEach(w=>{x.itemMetaLookup[w.id]||Te(e,"removeItem",{id:w.id})}),y({},g,{items:y({},g.items,x)})})},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const h=Q((g,x)=>{t.onItemClick&&t.onItemClick(g,x)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:o,getItemDOMElement:d,getItemTree:l,getItemOrderedChildrenIds:p,setIsItemDisabled:i,getParentId:r},instance:{getItemDOMElement:d,preventItemUpdates:c,areItemUpdatesPrevented:f,addItems:I,setTreeViewLoading:a,setTreeViewError:u,removeChildren:b,handleItemClick:h}}};Fe.getInitialState=e=>({items:y({},ft({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})});Fe.applyDefaultValuesToParams=({params:e})=>y({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});Fe.wrapRoot=({children:e})=>m.jsx(Le.Provider,{value:xo,children:e});Fe.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const sn=()=>{},ln=e=>e.expansion,mt=j([ln],e=>e.expandedItems),an=j([mt],e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),te=j([an,(e,t)=>t],(e,t)=>e.has(t)),et=j([W],e=>e?.expandable??!1),_t=j([ln],e=>e.expansionTrigger),cn=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),tt=({instance:e,store:t,params:n})=>{sn({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),Ee(()=>{t.update(i=>{const l=cn({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});return i.expansion.expansionTrigger===l?i:y({},i,{expansion:y({},i.expansion,{expansionTrigger:l})})})},[t,n.isItemEditable,n.expansionTrigger]);const o=(i,l)=>{n.expandedItems===void 0&&t.update(p=>y({},p,{expansion:y({},p.expansion,{expandedItems:l})})),n.onExpandedItemsChange?.(i,l)},r=Q(({itemId:i,event:l,shouldBeExpanded:p})=>{const d=mt(t.value);let s;p?s=[i].concat(d):s=d.filter(c=>c!==i),n.onItemExpansionToggle&&n.onItemExpansionToggle(l,i,p),o(l,s)}),a=Q(({itemId:i,event:l=null,shouldBeExpanded:p})=>{const d=te(t.value,i),s=p??!d;if(d===s)return;const c={isExpansionPrevented:!1,shouldBeExpanded:s,event:l,itemId:i};Te(e,"beforeItemToggleExpansion",c),!c.isExpansionPrevented&&e.applyItemExpansion({itemId:i,event:l,shouldBeExpanded:s})}),u=(i,l)=>{const p=W(t.value,l);if(p==null)return;const s=B(t.value,p.parentId).filter(f=>et(t.value,f)&&!te(t.value,f)),c=mt(t.value).concat(s);s.length>0&&(n.onItemExpansionToggle&&s.forEach(f=>{n.onItemExpansionToggle(i,f,!0)}),o(i,c))};return Ee(()=>{const i=n.expandedItems;i!==void 0&&t.update(l=>y({},l,{expansion:y({},l.expansion,{expandedItems:i})}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:a},instance:{setItemExpansion:a,applyItemExpansion:r,expandAllSiblings:u}}},Co=[];tt.applyDefaultValuesToParams=({params:e})=>y({},e,{defaultExpandedItems:e.defaultExpandedItems??Co});tt.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:cn(e)}});tt.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const ht=(e,t)=>{let n=t.length-1;for(;n>=0&&!ge(e,t[n]);)n-=1;if(n!==-1)return t[n]},un=(e,t)=>{const n=W(e,t);if(!n)return null;const o=B(e,n.parentId),r=Ct(e,t);if(r===0)return n.parentId;let a=r-1;for(;!ge(e,o[a])&&a>=0;)a-=1;if(a===-1)return n.parentId==null?null:un(e,n.parentId);let u=o[a],i=ht(e,B(e,u));for(;te(e,u)&&i!=null;)u=i,i=ht(e,B(e,u));return u},Ue=(e,t)=>{if(te(e,t)){const o=B(e,t).find(r=>ge(e,r));if(o!=null)return o}let n=W(e,t);for(;n!=null;){const o=B(e,n.parentId),r=Ct(e,n.id);if(r<o.length-1){let a=r+1;for(;!ge(e,o[a])&&a<o.length-1;)a+=1;if(ge(e,o[a]))return o[a]}n=W(e,n.parentId)}return null},dn=e=>{let t=null;for(;t==null||te(e,t);){const n=B(e,t),o=ht(e,n);if(o==null)return t;t=o}return t},Xe=e=>B(e,null).find(t=>ge(e,t)),pn=(e,t,n)=>{if(t===n)return[t,n];const o=W(e,t),r=W(e,n);if(!o||!r)return[t,n];if(o.parentId===r.id||r.parentId===o.id)return r.parentId===o.id?[o.id,r.id]:[r.id,o.id];const a=[o.id],u=[r.id];let i=o.parentId,l=r.parentId,p=u.indexOf(i)!==-1,d=a.indexOf(l)!==-1,s=!0,c=!0;for(;!d&&!p;)s&&(a.push(i),p=u.indexOf(i)!==-1,s=i!==null,!p&&s&&(i=we(e,i))),c&&!p&&(u.push(l),d=a.indexOf(l)!==-1,c=l!==null,!d&&c&&(l=we(e,l)));const f=p?i:l,I=B(e,f),b=a[a.indexOf(f)-1],h=u[u.indexOf(f)-1];return I.indexOf(b)<I.indexOf(h)?[t,n]:[n,t]},vo=(e,t,n)=>{const o=l=>{if(et(e,l)&&te(e,l))return B(e,l)[0];let p=W(e,l);for(;p!=null;){const d=B(e,p.parentId),s=Ct(e,p.id);if(s<d.length-1)return d[s+1];p=p.parentId?W(e,p.parentId):null}throw new Error("Invalid range")},[r,a]=pn(e,t,n),u=[r];let i=r;for(;i!==a;)i=o(i),ke(e,i)||u.push(i);return u},wo=e=>{let t=Xe(e);const n=[];for(;t!=null;)n.push(t),t=Ue(e,t);return n},gt=(e,t)=>t!==e.closest('*[role="treeitem"]'),Ae=e=>e.selection,fn=j([Ae],e=>e.selectedItems),Pe=j([fn],e=>Array.isArray(e)?e:e!=null?[e]:[]),Eo=j([Pe],e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),Ie=j([Eo,(e,t)=>t],(e,t)=>e.has(t)),he=j([Ae],e=>e.isEnabled&&e.isMultiSelectEnabled),Je=j([Ae],e=>e.isEnabled),mn=j([Ae],e=>e.isCheckboxSelectionEnabled),vt=j([ke,Je],(e,t)=>t&&!e),So=j([Ae],e=>e.selectionPropagation),He=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},hn=({store:e,oldModel:t,newModel:n})=>{const o=new Map;return n.forEach(r=>{o.set(r,!0)}),{added:n.filter(r=>!Ie(e.value,r)),removed:t.filter(r=>!o.has(r))}},ko=({store:e,selectionPropagation:t,newModel:n,oldModel:o,additionalItemsToPropagate:r})=>{if(!t.descendants&&!t.parents)return n;let a=!1;const u=He(n),i=hn({store:e,newModel:n,oldModel:o});return r?.forEach(l=>{u[l]?i.added.includes(l)||i.added.push(l):i.removed.includes(l)||i.removed.push(l)}),i.added.forEach(l=>{if(t.descendants){const p=d=>{d!==l&&(a=!0,u[d]=!0),B(e.value,d).forEach(p)};p(l)}if(t.parents){const p=s=>u[s]?B(e.value,s).every(p):!1,d=s=>{const c=we(e.value,s);if(c==null)return;B(e.value,c).every(p)&&(a=!0,u[c]=!0,d(c))};d(l)}}),i.removed.forEach(l=>{if(t.parents){let p=we(e.value,l);for(;p!=null;)u[p]&&(a=!0,delete u[p]),p=we(e.value,p)}if(t.descendants){const p=d=>{d!==l&&(a=!0,delete u[d]),B(e.value,d).forEach(p)};p(l)}}),a?Object.keys(u):n},To=Object.is;function Po(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,o=0;for(const r in e)if(n+=1,!To(e[r],t[r])||!(r in t))return!1;for(const r in t)o+=1;return n===o}function Ro(e,t){const n=mn(e),o=vt(e,t);if(Ie(e,t))return{disabled:!o,visible:n,indeterminate:!1,checked:!0};if(B(e,t).length===0)return{disabled:!o,visible:n,indeterminate:!1,checked:!1};let a=!1,u=!1;const i=l=>{l!==t&&(Ie(e,l)?a=!0:u=!0),B(e,l).forEach(i)};return i(t),{disabled:!o,visible:n,indeterminate:a&&u,checked:So(e).parents?a&&!u:!1}}const Mo=({props:e})=>{const{itemId:t}=e,{store:n}=xe(),o=$(n,Ro,t,Po);return{propsEnhancers:{checkbox:({externalEventHandlers:r,interactions:a})=>y({tabIndex:-1,onChange:i=>{r.onChange?.(i),!i.defaultMuiPrevented&&vt(n.value,t)&&a.handleCheckboxSelection(i)}},o)}}},Ve=({store:e,params:t})=>{sn({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=C.useRef(null),o=C.useRef({}),r=(c,f,I)=>{const b=fn(e.value);let h;const g=he(e.value);if(g&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?h=ko({store:e,selectionPropagation:t.selectionPropagation,newModel:f,oldModel:b,additionalItemsToPropagate:I}):h=f,t.onItemSelectionToggle)if(g){const x=hn({store:e,newModel:h,oldModel:b});t.onItemSelectionToggle&&(x.added.forEach(w=>{t.onItemSelectionToggle(c,w,!0)}),x.removed.forEach(w=>{t.onItemSelectionToggle(c,w,!1)}))}else t.onItemSelectionToggle&&h!==b&&(b!=null&&t.onItemSelectionToggle(c,b,!1),h!=null&&t.onItemSelectionToggle(c,h,!0));t.selectedItems===void 0&&e.update(x=>y({},x,{selection:y({},x.selection,{selectedItems:h})})),t.onSelectedItemsChange?.(c,h)},a=({itemId:c,event:f=null,keepExistingSelection:I=!1,shouldBeSelected:b})=>{if(!Je(e.value))return;let h;const g=he(e.value);if(I){const x=Pe(e.value),w=Ie(e.value,c);w&&(b===!1||b==null)?h=x.filter(k=>k!==c):!w&&(b===!0||b==null)?h=[c].concat(x):h=x}else b===!1||b==null&&Ie(e.value,c)?h=g?[]:null:h=g?[c]:c;r(f,h,[c]),n.current=c,o.current={}},u=(c,[f,I])=>{if(!he(e.value))return;let h=Pe(e.value).slice();Object.keys(o.current).length>0&&(h=h.filter(k=>!o.current[k]));const g=He(h),x=vo(e.value,f,I),w=x.filter(k=>!g[k]);h=h.concat(w),r(c,h),o.current=He(x)},i=(c,f)=>{if(n.current!=null){const[I,b]=pn(e.value,f,n.current);u(c,[I,b])}},l=(c,f)=>{u(c,[Xe(e.value),f])},p=(c,f)=>{u(c,[f,dn(e.value)])},d=c=>{if(!he(e.value))return;const I=wo(e.value);r(c,I),o.current=He(I)},s=(c,f,I)=>{if(!he(e.value))return;let h=Pe(e.value).slice();Object.keys(o.current).length===0?(h.push(I),o.current={[f]:!0,[I]:!0}):(o.current[f]||(o.current={}),o.current[I]?(h=h.filter(g=>g!==f),delete o.current[f]):(h.push(I),o.current[I]=!0)),r(c,h)};return Ee(()=>{e.update(c=>y({},c,{selection:{selectedItems:t.selectedItems===void 0?c.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}}}))},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:a},instance:{setItemSelection:a,selectAllNavigableItems:d,expandSelectionRange:i,selectRangeFromStartToItem:l,selectRangeFromItemToEnd:p,selectItemFromArrowNavigation:s}}};Ve.itemPlugin=Mo;const Lo=[],jo={};Ve.applyDefaultValuesToParams=({params:e})=>y({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Lo:null),selectionPropagation:e.selectionPropagation??jo});Ve.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}});Ve.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const Ut=1e3;class Do{constructor(t=Ut){this.timeouts=new Map,this.cleanupTimeout=Ut,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Oo{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class Fo{}function Ao(e){let t=0;return function(o,r,a){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Oo:new Do);const[u]=C.useState(new Fo),i=C.useRef(null),l=C.useRef(void 0);l.current=a;const p=C.useRef(null);if(!i.current&&l.current){const d=(s,c)=>{c.defaultMuiPrevented||l.current?.(s,c)};i.current=o.$$subscribeEvent(r,d),t+=1,p.current={cleanupToken:t},e.registry.register(u,()=>{i.current?.(),i.current=null,p.current=null},p.current)}else!l.current&&i.current&&(i.current(),i.current=null,p.current&&(e.registry.unregister(p.current),p.current=null));C.useEffect(()=>{if(!i.current&&l.current){const d=(s,c)=>{c.defaultMuiPrevented||l.current?.(s,c)};i.current=o.$$subscribeEvent(r,d)}return p.current&&e.registry&&(e.registry.unregister(p.current),p.current=null),()=>{i.current?.(),i.current=null}},[o,r])}}const Vo={registry:null},zo=Ao(Vo),$o=e=>e.focus,bt=j([Pe,an,Ze,rn,e=>B(e,null)],(e,t,n,o,r)=>{const a=e.find(i=>{if(!o&&dt(n,i))return!1;const l=n[i];return l&&(l.parentId==null||t.has(l.parentId))});if(a!=null)return a;const u=r.find(i=>o||!dt(n,i));return u??null}),Bo=j([bt,(e,t)=>t],(e,t)=>e===t),Ke=j($o,e=>e.focusedItemId),No=j([Ke,(e,t)=>t],(e,t)=>e===t),wt=({instance:e,params:t,store:n})=>{const o=Q(d=>{n.update(s=>Ke(s)===d?s:y({},s,{focus:y({},s.focus,{focusedItemId:d})}))}),r=d=>{const s=W(n.value,d);return s&&(s.parentId==null||te(n.value,s.parentId))},a=(d,s)=>{const c=e.getItemDOMElement(s);c&&c.focus(),o(s),t.onItemFocus&&t.onItemFocus(d,s)},u=Q((d,s)=>{r(s)&&a(d,s)}),i=Q(()=>{const d=Ke(n.value);if(d==null)return;if(W(n.value,d)){const c=e.getItemDOMElement(d);c&&c.blur()}o(null)});zo(e,"removeItem",({id:d})=>{const s=Ke(n.value),c=bt(n.value);s===d&&c!=null&&a(null,c)});const l=d=>s=>{if(d.onFocus?.(s),s.defaultMuiPrevented)return;const c=bt(n.value);s.target===s.currentTarget&&c!=null&&a(s,c)},p=d=>s=>{d.onBlur?.(s),!s.defaultMuiPrevented&&o(null)};return{getRootProps:d=>({onFocus:l(d),onBlur:p(d)}),publicAPI:{focusItem:u},instance:{focusItem:u,removeFocusedItem:i}}};wt.getInitialState=()=>({focus:{focusedItemId:null}});wt.params={onItemFocus:!0};const We=(e,t)=>e.getAvailablePlugins().has(t),Et=e=>e.label,nt=j([Et,(e,t)=>pt(e,t)],(e,t)=>!t||!e?!1:typeof e.isItemEditable=="boolean"?e.isItemEditable:e.isItemEditable(t)),Re=j([Et,(e,t)=>t],(e,t)=>t?e?.editedItemId===t:!1);j(Et,e=>!!e?.editedItemId);const _o=({props:e})=>{const{store:t}=xe(),{label:n,itemId:o}=e,[r,a]=C.useState(n),u=$(t,nt,o),i=$(t,Re,o);return C.useEffect(()=>{i||a(n)},[i,n]),{propsEnhancers:{label:()=>({editable:u}),labelInput:({externalEventHandlers:l,interactions:p})=>u?{value:r??"","data-element":"labelInput",onChange:f=>{l.onChange?.(f),a(f.target.value)},onKeyDown:f=>{if(l.onKeyDown?.(f),f.defaultMuiPrevented)return;const I=f.target;f.key==="Enter"&&I.value?p.handleSaveItemLabel(f,I.value):f.key==="Escape"&&p.handleCancelItemLabelEditing(f)},onBlur:f=>{l.onBlur?.(f),!f.defaultMuiPrevented&&f.target.value&&p.handleSaveItemLabel(f,f.target.value)},autoFocus:!0,type:"text"}:{}}}},le=({store:e,params:t})=>{const n=r=>{r!==null&&!nt(e.value,r)||e.update(a=>y({},a,{label:y({},a.label,{editedItemId:r})}))},o=(r,a)=>{if(!a)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",r].join(`
`));e.update(u=>{const i=u.items.itemMetaLookup[r];return i.label!==a?y({},u,{items:y({},u.items,{itemMetaLookup:y({},u.items.itemMetaLookup,{[r]:y({},i,{label:a})})})}):u}),t.onItemLabelChange&&t.onItemLabelChange(r,a)};return Ee(()=>{e.update(r=>y({},r,{label:y({},r.label,{isItemEditable:t.isItemEditable})}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:o},publicAPI:{setEditedItem:n,updateItemLabel:o}}};le.itemPlugin=_o;le.applyDefaultValuesToParams=({params:e})=>y({},e,{isItemEditable:e.isItemEditable??!1});le.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}});le.params={onItemLabelChange:!0,isItemEditable:!0};function Uo(e){return!!e&&e.length===1&&!!e.match(/\S/)}const gn=({instance:e,store:t,params:n})=>{const o=vn(),r=C.useRef({}),a=Q(s=>{r.current=s(r.current)}),u=$(t,Ze);C.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const s={},c=f=>{s[f.id]=f.label.substring(0,1).toLowerCase()};Object.values(u).forEach(c),r.current=s},[u,n.getItemId,e]);const i=(s,c)=>{const f=c.toLowerCase(),I=x=>{const w=Ue(t.value,x);return w===null?Xe(t.value):w};let b=null,h=I(s);const g={};for(;b==null&&!g[h];)r.current[h]===f?b=h:(g[h]=!0,h=I(h));return b},l=s=>Je(t.value)&&!ke(t.value,s),p=s=>!ke(t.value,s)&&et(t.value,s);return{instance:{updateFirstCharMap:a,handleItemKeyDown:async(s,c)=>{if(s.defaultMuiPrevented||s.altKey||gt(s.target,s.currentTarget))return;const f=s.ctrlKey||s.metaKey,I=s.key,b=he(t.value);switch(!0){case(I===" "&&l(c)):{s.preventDefault(),b&&s.shiftKey?e.expandSelectionRange(s,c):e.setItemSelection({event:s,itemId:c,keepExistingSelection:b,shouldBeSelected:void 0});break}case I==="Enter":{We(e,le)&&nt(t.value,c)&&!Re(t.value,c)?e.setEditedItem(c):p(c)?(e.setItemExpansion({event:s,itemId:c}),s.preventDefault()):l(c)&&(b?(s.preventDefault(),e.setItemSelection({event:s,itemId:c,keepExistingSelection:!0})):Ie(t.value,c)||(e.setItemSelection({event:s,itemId:c}),s.preventDefault()));break}case I==="ArrowDown":{const h=Ue(t.value,c);h&&(s.preventDefault(),e.focusItem(s,h),b&&s.shiftKey&&l(h)&&e.selectItemFromArrowNavigation(s,c,h));break}case I==="ArrowUp":{const h=un(t.value,c);h&&(s.preventDefault(),e.focusItem(s,h),b&&s.shiftKey&&l(h)&&e.selectItemFromArrowNavigation(s,c,h));break}case(I==="ArrowRight"&&!o||I==="ArrowLeft"&&o):{if(f)return;if(te(t.value,c)){const h=Ue(t.value,c);h&&(e.focusItem(s,h),s.preventDefault())}else p(c)&&(e.setItemExpansion({event:s,itemId:c}),s.preventDefault());break}case(I==="ArrowLeft"&&!o||I==="ArrowRight"&&o):{if(f)return;if(p(c)&&te(t.value,c))e.setItemExpansion({event:s,itemId:c}),s.preventDefault();else{const h=we(t.value,c);h&&(e.focusItem(s,h),s.preventDefault())}break}case I==="Home":{l(c)&&b&&f&&s.shiftKey?e.selectRangeFromStartToItem(s,c):e.focusItem(s,Xe(t.value)),s.preventDefault();break}case I==="End":{l(c)&&b&&f&&s.shiftKey?e.selectRangeFromItemToEnd(s,c):e.focusItem(s,dn(t.value)),s.preventDefault();break}case I==="*":{e.expandAllSiblings(s,c),s.preventDefault();break}case(String.fromCharCode(s.keyCode)==="A"&&f&&b&&Je(t.value)):{e.selectAllNavigableItems(s),s.preventDefault();break}case(!f&&!s.shiftKey&&Uo(I)):{const h=i(c,I);h!=null&&(e.focusItem(s,h),s.preventDefault());break}}}}}};gn.params={};function Ho(e){return e.replace(/["\\]/g,"\\$&")}const bn=C.createContext(null);function In(e){const{children:t,itemId:n=null,idAttribute:o}=e,{instance:r,store:a,rootRef:u}=xe(),i=C.useRef(new Map);C.useEffect(()=>{if(!u.current)return;const p=B(a.value,n??null)??[],d=Ho(o??u.current.id),s=u.current.querySelectorAll(`${n==null?"":`*[id="${d}"] `}[role="treeitem"]:not(*[id="${d}"] [role="treeitem"] [role="treeitem"])`),c=Array.from(s).map(I=>i.current.get(I.id));(c.length!==p.length||c.some((I,b)=>I!==p[b]))&&r.setJSXItemsOrderedChildrenIds(n??null,c)});const l=C.useMemo(()=>({registerChild:(p,d)=>i.current.set(p,d),unregisterChild:p=>i.current.delete(p),parentId:n}),[n]);return m.jsx(bn.Provider,{value:l,children:t})}const Ko=e=>e.lazyLoading,Wo=e=>e.lazyLoading,xn=j([Ko],e=>e.dataSource),Go=j([Wo],e=>!!e?.enabled),qo=j([xn,(e,t)=>t],(e,t)=>e.loading[t]||!1),Xo=j([xn,(e,t)=>t],(e,t)=>e.errors[t]||null),St=e=>Array.isArray(e)?e.length>0&&e.some(St):!!e,Jo=({itemId:e,children:t})=>{const{instance:n,store:o,publicAPI:r}=xe(),a=$(o,et,e),u=$(o,Go),i=$(o,he),l=$(o,S=>u?qo(S,e):!1),p=$(o,S=>u?!!Xo(S,e):!1),d=St(t)||a,s=$(o,te,e),c=$(o,No,e),f=$(o,Ie,e),I=$(o,ke,e),b=$(o,Re,e),h=$(o,nt,e),g={expandable:d,expanded:s,focused:c,selected:f,disabled:I,editing:b,editable:h,loading:l,error:p},x=S=>{if(g.disabled)return;g.focused||n.focusItem(S,e);const V=i&&(S.shiftKey||S.ctrlKey||S.metaKey);g.expandable&&!(V&&te(o.value,e))&&n.setItemExpansion({event:S,itemId:e})},w=S=>{if(g.disabled)return;!g.focused&&!g.editing&&n.focusItem(S,e),i&&(S.shiftKey||S.ctrlKey||S.metaKey)?S.shiftKey?n.expandSelectionRange(S,e):n.setItemSelection({event:S,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:S,itemId:e,shouldBeSelected:!0})},k=S=>{const V=S.nativeEvent.shiftKey;i&&V?n.expandSelectionRange(S,e):n.setItemSelection({event:S,itemId:e,keepExistingSelection:i,shouldBeSelected:S.target.checked})},P=()=>{We(n,le)&&(b?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:x,handleSelection:w,handleCheckboxSelection:k,toggleItemEditing:P,handleSaveItemLabel:(S,V)=>{We(n,le)&&Re(o.value,e)&&(n.updateItemLabel(e,V),P(),n.focusItem(S,e))},handleCancelItemLabelEditing:S=>{We(n,le)&&Re(o.value,e)&&(P(),n.focusItem(S,e))}},status:g,publicAPI:r}},ze=({instance:e,store:t})=>{e.preventItemUpdates();const n=Q(a=>(t.update(u=>{if(u.items.itemMetaLookup[a.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${a.id}"`].join(`
`));return y({},u,{items:y({},u.items,{itemMetaLookup:y({},u.items.itemMetaLookup,{[a.id]:a}),itemModelLookup:y({},u.items.itemModelLookup,{[a.id]:{id:a.id,label:a.label??""}})})})}),()=>{t.update(u=>{const i=y({},u.items.itemMetaLookup),l=y({},u.items.itemModelLookup);return delete i[a.id],delete l[a.id],y({},u,{items:y({},u.items,{itemMetaLookup:i,itemModelLookup:l})})}),Te(e,"removeItem",{id:a.id})})),o=(a,u)=>{const i=a??Se;t.update(l=>y({},l,{items:y({},l.items,{itemOrderedChildrenIdsLookup:y({},l.items.itemOrderedChildrenIdsLookup,{[i]:u}),itemChildrenIndexesLookup:y({},l.items.itemChildrenIndexesLookup,{[i]:on(u)})})}))},r=Q((a,u)=>(e.updateFirstCharMap(i=>(i[a]=u,i)),()=>{e.updateFirstCharMap(i=>{const l=y({},i);return delete l[a],l})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:o,mapFirstCharFromJSX:r}}},Yo=({props:e,rootRef:t,contentRef:n})=>{const{instance:o,store:r}=xe(),{children:a,disabled:u=!1,label:i,itemId:l,id:p}=e,d=C.useContext(bn);if(d==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:s,unregisterChild:c,parentId:f}=d,I=St(a),b=C.useRef(null),h=Me(b,n),g=$(r,Oe);return Ee(()=>{const x=Qe({itemId:l,treeId:g,id:p});return s(x,l),()=>{c(x),c(x)}},[r,o,s,c,l,p,g]),Ee(()=>o.insertJSXItem({id:l,idAttribute:p,parentId:f,expandable:I,disabled:u}),[o,f,l,I,u,p]),C.useEffect(()=>{if(i)return o.mapFirstCharFromJSX(l,(b.current?.textContent??"").substring(0,1).toLowerCase())},[o,l,i]),{contentRef:h,rootRef:t}};ze.itemPlugin=Yo;ze.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const o=C.useContext(Le);return m.jsx(In,{itemId:t,idAttribute:n,children:m.jsx(Le.Provider,{value:o+1,children:e})})};ze.wrapRoot=({children:e})=>m.jsx(In,{itemId:null,idAttribute:null,children:m.jsx(Le.Provider,{value:0,children:e})});ze.params={};const Qo=[Fe,tt,Ve,wt,gn,ze],Zo=["slots","slotProps"],er=Xt(),tr=e=>{const{classes:t}=e;return C.useMemo(()=>ue({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},Fn,t),[t])},nr=z("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),or=[],rr=C.forwardRef(function(t,n){const o=er({props:t,name:"MuiSimpleTreeView"}),{slots:r,slotProps:a}=o,u=Ye(o,Zo),{getRootProps:i,contextValue:l}=go({plugins:Qo,rootRef:n,props:y({},u,{items:or})}),p=tr(o),d=r?.root??nr,s=Y({elementType:d,externalSlotProps:a?.root,className:p.root,getSlotProps:i,ownerState:o});return m.jsx(bo,{contextValue:l,classes:p,slots:r,slotProps:a,children:m.jsx(d,y({},s))})});function sr(e){return ae("MuiCollapse",e)}ce("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ir=e=>{const{orientation:t,classes:n}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ue(o,sr,n)},lr=z("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(De(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),ar=z("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),cr=z("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),It=C.forwardRef(function(t,n){const o=je({props:t,name:"MuiCollapse"}),{addEndListener:r,children:a,className:u,collapsedSize:i="0px",component:l,easing:p,in:d,onEnter:s,onEntered:c,onEntering:f,onExit:I,onExited:b,onExiting:h,orientation:g="vertical",style:x,timeout:w=wn.standard,TransitionComponent:k=En,...P}=o,R={...o,orientation:g,collapsedSize:i},L=ir(R),D=Wt(),S=Sn(),V=C.useRef(null),H=C.useRef(),E=typeof i=="number"?`${i}px`:i,O=g==="horizontal",A=O?"width":"height",F=C.useRef(null),N=Me(n,F),G=M=>J=>{if(M){const q=F.current;J===void 0?M(q):M(q,J)}},X=()=>V.current?V.current[O?"clientWidth":"clientHeight"]:0,de=G((M,J)=>{V.current&&O&&(V.current.style.position="absolute"),M.style[A]=E,s&&s(M,J)}),re=G((M,J)=>{const q=X();V.current&&O&&(V.current.style.position="");const{duration:se,easing:T}=Tt({style:x,timeout:w,easing:p},{mode:"enter"});if(w==="auto"){const v=D.transitions.getAutoHeightDuration(q);M.style.transitionDuration=`${v}ms`,H.current=v}else M.style.transitionDuration=typeof se=="string"?se:`${se}ms`;M.style[A]=`${q}px`,M.style.transitionTimingFunction=T,f&&f(M,J)}),Ce=G((M,J)=>{M.style[A]="auto",c&&c(M,J)}),pe=G(M=>{M.style[A]=`${X()}px`,I&&I(M)}),ve=G(b),fe=G(M=>{const J=X(),{duration:q,easing:se}=Tt({style:x,timeout:w,easing:p},{mode:"exit"});if(w==="auto"){const T=D.transitions.getAutoHeightDuration(J);M.style.transitionDuration=`${T}ms`,H.current=T}else M.style.transitionDuration=typeof q=="string"?q:`${q}ms`;M.style[A]=E,M.style.transitionTimingFunction=se,h&&h(M)}),_=M=>{w==="auto"&&S.start(H.current||0,M),r&&r(F.current,M)};return m.jsx(k,{in:d,onEnter:de,onEntered:Ce,onEntering:re,onExit:pe,onExited:ve,onExiting:fe,addEndListener:_,nodeRef:F,timeout:w==="auto"?null:w,...P,children:(M,{ownerState:J,...q})=>m.jsx(lr,{as:l,className:K(L.root,u,{entered:L.entered,exited:!d&&E==="0px"&&L.hidden}[M]),style:{[O?"minWidth":"minHeight"]:E,...x},ref:N,ownerState:{...R,state:M},...q,children:m.jsx(ar,{ownerState:{...R,state:M},className:L.wrapper,ref:V,children:m.jsx(cr,{ownerState:{...R,state:M},className:L.wrapperInner,children:a})})})})});It&&(It.muiSupportAuto=!0);function ur(e){return ae("PrivateSwitchBase",e)}ce("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const dr=e=>{const{classes:t,checked:n,disabled:o,edge:r}=e,a={root:["root",n&&"checked",o&&"disabled",r&&`edge${be(r)}`],input:["input"]};return ue(a,ur,t)},pr=z(Gt,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),fr=z("input",{name:"MuiSwitchBase",shouldForwardProp:qt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),mr=C.forwardRef(function(t,n){const{autoFocus:o,checked:r,checkedIcon:a,defaultChecked:u,disabled:i,disableFocusRipple:l=!1,edge:p=!1,icon:d,id:s,inputProps:c,inputRef:f,name:I,onBlur:b,onChange:h,onFocus:g,readOnly:x,required:w=!1,tabIndex:k,type:P,value:R,slots:L={},slotProps:D={},...S}=t,[V,H]=kn({controlled:r,default:!!u,name:"SwitchBase",state:"checked"}),E=Tn(),O=_=>{g&&g(_),E&&E.onFocus&&E.onFocus(_)},A=_=>{b&&b(_),E&&E.onBlur&&E.onBlur(_)},F=_=>{if(_.nativeEvent.defaultPrevented)return;const M=_.target.checked;H(M),h&&h(_,M)};let N=i;E&&typeof N>"u"&&(N=E.disabled);const G=P==="checkbox"||P==="radio",X={...t,checked:V,disabled:N,disableFocusRipple:l,edge:p},de=dr(X),re={slots:L,slotProps:{input:c,...D}},[Ce,pe]=ct("root",{ref:n,elementType:pr,className:de.root,shouldForwardComponentProp:!0,externalForwardedProps:{...re,component:"span",...S},getSlotProps:_=>({..._,onFocus:M=>{_.onFocus?.(M),O(M)},onBlur:M=>{_.onBlur?.(M),A(M)}}),ownerState:X,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:N,role:void 0,tabIndex:null}}),[ve,fe]=ct("input",{ref:f,elementType:fr,className:de.input,externalForwardedProps:re,getSlotProps:_=>({..._,onChange:M=>{_.onChange?.(M),F(M)}}),ownerState:X,additionalProps:{autoFocus:o,checked:r,defaultChecked:u,disabled:N,id:G?s:void 0,name:I,readOnly:x,required:w,tabIndex:k,type:P,...P==="checkbox"&&R===void 0?{}:{value:R}}});return m.jsxs(Ce,{...pe,children:[m.jsx(ve,{...fe}),V?a:d]})}),hr=ne(m.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),gr=ne(m.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),br=ne(m.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Ir(e){return ae("MuiCheckbox",e)}const at=ce("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),xr=e=>{const{classes:t,indeterminate:n,color:o,size:r}=e,a={root:["root",n&&"indeterminate",`color${be(o)}`,`size${be(r)}`]},u=ue(a,Ir,t);return{...t,...u}},yr=z(mr,{shouldForwardProp:e=>qt(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${be(n.size)}`],n.color!=="default"&&t[`color${be(n.color)}`]]}})(De(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(ut()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(ut()).map(([t])=>({props:{color:t},style:{[`&.${at.checked}, &.${at.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${at.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Cr=m.jsx(gr,{}),vr=m.jsx(hr,{}),wr=m.jsx(br,{}),Er=C.forwardRef(function(t,n){const o=je({props:t,name:"MuiCheckbox"}),{checkedIcon:r=Cr,color:a="primary",icon:u=vr,indeterminate:i=!1,indeterminateIcon:l=wr,inputProps:p,size:d="medium",disableRipple:s=!1,className:c,slots:f={},slotProps:I={},...b}=o,h=i?l:u,g=i?l:r,x={...o,disableRipple:s,color:a,indeterminate:i,size:d},w=xr(x),k=I.input??p,[P,R]=ct("root",{ref:n,elementType:yr,className:K(w.root,c),shouldForwardComponentProp:!0,externalForwardedProps:{slots:f,slotProps:I,...b},ownerState:x,additionalProps:{type:"checkbox",icon:C.cloneElement(h,{fontSize:h.props.fontSize??d}),checkedIcon:C.cloneElement(g,{fontSize:g.props.fontSize??d}),disableRipple:s,slots:f,slotProps:{input:Pn(typeof k=="function"?k(x):k,{"data-indeterminate":i})}}});return m.jsx(P,{...R,classes:w})}),Sr=e=>{const{runItemPlugins:t,instance:n,publicAPI:o,store:r}=xe(),a=C.useContext(Le),u=$(r,(...T)=>typeof a=="function"?a(...T):a,e.itemId),{id:i,itemId:l,label:p,children:d,rootRef:s}=e,{rootRef:c,contentRef:f,propsEnhancers:I}=t(e),{interactions:b,status:h}=Jo({itemId:l,children:d}),g=C.useRef(null),x=C.useRef(null),w=Me(s,c,g),k=Me(f,x),P=C.useRef(null),R=$(r,Oe),L=$(r,vt,l),D=$(r,mn),S=Qe({itemId:l,treeId:R,id:i}),V=$(r,Bo,l),H={rootRefObject:g,contentRefObject:x,interactions:b},E=T=>v=>{T.onFocus?.(v),!v.defaultMuiPrevented&&!h.focused&&ge(r.value,l)&&v.currentTarget===v.target&&n.focusItem(v,l)},O=T=>v=>{if(T.onBlur?.(v),v.defaultMuiPrevented)return;const U=n.getItemDOMElement(l);h.editing||v.relatedTarget&&gt(v.relatedTarget,U)&&(v.target&&v.target?.dataset?.element==="labelInput"&&gt(v.target,U)||v.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},A=T=>v=>{T.onKeyDown?.(v),!(v.defaultMuiPrevented||v.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(v,l)},F=T=>v=>{T.onDoubleClick?.(v),!v.defaultMuiPrevented&&b.toggleItemEditing()},N=T=>v=>{T.onClick?.(v),n.handleItemClick(v,l),!(v.defaultMuiPrevented||P.current?.contains(v.target))&&(_t(r.value)==="content"&&b.handleExpansion(v),D||b.handleSelection(v))},G=T=>v=>{T.onMouseDown?.(v),!v.defaultMuiPrevented&&(v.shiftKey||v.ctrlKey||v.metaKey||h.disabled)&&v.preventDefault()},X=T=>v=>{T.onClick?.(v),!v.defaultMuiPrevented&&_t(r.value)==="iconContainer"&&b.handleExpansion(v)};return{getContextProviderProps:()=>({itemId:l,id:i}),getRootProps:(T={})=>{const v=y({},Z(e),Z(T));let U;h.selected?U=!0:L?U=!1:U=void 0;const me=y({},v,{ref:w,role:"treeitem",tabIndex:V?0:-1,id:S,"aria-expanded":h.expandable?h.expanded:void 0,"aria-selected":U,"aria-disabled":h.disabled||void 0},T,{style:y({},T.style??{},{"--TreeView-itemDepth":u}),onFocus:E(v),onBlur:O(v),onKeyDown:A(v)}),$e=I.root?.(y({},H,{externalEventHandlers:v}))??{};return y({},me,$e)},getContentProps:(T={})=>{const v=Z(T),U=y({},v,T,{ref:k,onClick:N(v),onMouseDown:G(v),status:h});["expanded","selected","focused","disabled","editing","editable"].forEach($e=>{h[$e]&&(U[`data-${$e}`]="")});const me=I.content?.(y({},H,{externalEventHandlers:v}))??{};return y({},U,me)},getGroupTransitionProps:(T={})=>{const v=Z(T);return y({},v,{unmountOnExit:!0,component:"ul",role:"group",in:h.expanded,children:d},T)},getIconContainerProps:(T={})=>{const v=Z(T);return y({},v,T,{onClick:X(v)})},getCheckboxProps:(T={})=>{const v=Z(T),U=y({},v,{ref:P},T),me=I.checkbox?.(y({},H,{externalEventHandlers:v}))??{};return y({},U,me)},getLabelProps:(T={})=>{const v=y({},Z(T)),U=y({},v,{children:p},T,{onDoubleClick:F(v)}),me=I.label?.(y({},H,{externalEventHandlers:v}))??{};return y({},me,U)},getLabelInputProps:(T={})=>{const v=Z(T),U=I.labelInput?.(y({},H,{externalEventHandlers:v}))??{};return y({},T,U)},getDragAndDropOverlayProps:(T={})=>{const v=Z(T),U=I.dragAndDropOverlay?.(y({},H,{externalEventHandlers:v}))??{};return y({},T,U)},getErrorContainerProps:(T={})=>{const v=Z(T);return y({},v,T)},getLoadingContainerProps:(T={})=>{const v=Z(T);return y({size:"12px",thickness:6},v,T)},rootRef:w,status:h,publicAPI:o}};function kr(e){return ae("MuiTreeItem",e)}ce("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]);const Tr=ne(m.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Pr=ne(m.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function Rr(e){const{slots:t,slotProps:n,status:o}=e,{slots:r,slotProps:a}=nn(),u={collapseIcon:t?.collapseIcon??r.collapseIcon??Pr,expandIcon:t?.expandIcon??r.expandIcon??Tr,endIcon:t?.endIcon??r.endIcon,icon:t?.icon};let i;u?.icon?i="icon":o.expandable?o.expanded?i="collapseIcon":i="expandIcon":i="endIcon";const l=u[i],p=Y({elementType:l,externalSlotProps:d=>y({},Pt(a[i],d),Pt(n?.[i],d)),ownerState:{}});return l?m.jsx(l,y({},p)):null}const Mr=z("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>xt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:ee(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function Lr(e){return e.action==null?null:m.jsx(Mr,y({},e))}function jr(e){const{children:t,itemId:n,id:o}=e,{wrapItem:r,instance:a,store:u}=xe(),i=$(u,Oe),l=Qe({itemId:n,treeId:i,id:o});return m.jsx(C.Fragment,{children:r({children:t,itemId:n,instance:a,idAttribute:l})})}const Dr=z("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>y({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),Or=["visible"],Fr=["id","itemId","label","disabled","children","slots","slotProps","classes"],Ar=Xt(),Vr=z("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),zr=z("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>xt(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ee(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ee(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ee(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ee(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),$r=z("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>xt(e)&&e!=="editable"})(({theme:e})=>y({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),Br=z("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),Nr=z(It,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),_r=z("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),Ur=z(_e,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),Hr=z(C.forwardRef((e,t)=>{const{visible:n}=e,o=Ye(e,Or);return n?m.jsx(Er,y({},o,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),Kr=e=>{const{classes:t}=nn(),n=y({},e,{root:K(e?.root,t.root),content:K(e?.content,t.itemContent),iconContainer:K(e?.iconContainer,t.itemIconContainer),checkbox:K(e?.checkbox,t.itemCheckbox),label:K(e?.label,t.itemLabel),groupTransition:K(e?.groupTransition,t.itemGroupTransition),labelInput:K(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:K(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:K(e?.errorIcon,t.itemErrorIcon),loadingIcon:K(e?.loadingIcon,t.itemLoadingIcon)});return ue({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},kr,n)},Wr=C.forwardRef(function(t,n){const o=Ar({props:t,name:"MuiTreeItem"}),{id:r,itemId:a,label:u,disabled:i,children:l,slots:p={},slotProps:d={},classes:s}=o,c=Ye(o,Fr),{getContextProviderProps:f,getRootProps:I,getContentProps:b,getIconContainerProps:h,getCheckboxProps:g,getLabelProps:x,getGroupTransitionProps:w,getLabelInputProps:k,getDragAndDropOverlayProps:P,getErrorContainerProps:R,getLoadingContainerProps:L,status:D}=Sr({id:r,itemId:a,children:l,label:u,disabled:i}),S=Kr(s),V=p.root??Vr,H=Y({elementType:V,getSlotProps:I,externalForwardedProps:c,externalSlotProps:d.root,additionalProps:{ref:n},ownerState:{},className:S.root}),E=p.content??zr,O=Y({elementType:E,getSlotProps:b,externalSlotProps:d.content,ownerState:{},className:K(S.content,D.expanded&&S.expanded,D.selected&&S.selected,D.focused&&S.focused,D.disabled&&S.disabled,D.editing&&S.editing,D.editable&&S.editable)}),A=p.iconContainer??Br,F=Y({elementType:A,getSlotProps:h,externalSlotProps:d.iconContainer,ownerState:{},className:S.iconContainer}),N=p.label??$r,G=Y({elementType:N,getSlotProps:x,externalSlotProps:d.label,ownerState:{},className:S.label}),X=p.checkbox??Hr,de=Y({elementType:X,getSlotProps:g,externalSlotProps:d.checkbox,ownerState:{},className:S.checkbox}),re=p.groupTransition??void 0,Ce=Y({elementType:re,getSlotProps:w,externalSlotProps:d.groupTransition,ownerState:{},className:S.groupTransition}),pe=p.labelInput??Dr,ve=Y({elementType:pe,getSlotProps:k,externalSlotProps:d.labelInput,ownerState:{},className:S.labelInput}),fe=p.dragAndDropOverlay??Lr,_=Y({elementType:fe,getSlotProps:P,externalSlotProps:d.dragAndDropOverlay,ownerState:{},className:S.dragAndDropOverlay}),M=p.errorIcon??_r,J=Y({elementType:M,getSlotProps:R,externalSlotProps:d.errorIcon,ownerState:{},className:S.errorIcon}),q=p.loadingIcon??Ur,se=Y({elementType:q,getSlotProps:L,externalSlotProps:d.loadingIcon,ownerState:{},className:S.loadingIcon});return m.jsx(jr,y({},f(),{children:m.jsxs(V,y({},H,{children:[m.jsxs(E,y({},O,{children:[m.jsxs(A,y({},F,{children:[D.error&&m.jsx(M,y({},J)),D.loading?m.jsx(q,y({},se)):m.jsx(Rr,{status:D,slots:p,slotProps:d})]})),m.jsx(X,y({},de)),D.editing?m.jsx(pe,y({},ve)):m.jsx(N,y({},G)),m.jsx(fe,y({},_))]})),l&&m.jsx(Nr,y({as:re},Ce))]}))}))}),Gr=ne(m.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),qr=z(Gt,{name:"MuiBreadcrumbCollapsed"})(De(({theme:e})=>({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`,...e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}},"&:active":{boxShadow:e.shadows[0],...e.palette.mode==="light"?{backgroundColor:Rt(e.palette.grey[200],.12)}:{backgroundColor:Rt(e.palette.grey[600],.12)}}}))),Xr=z(Gr)({width:24,height:16});function Jr(e){const{slots:t={},slotProps:n={},...o}=e,r=e;return m.jsx("li",{children:m.jsx(qr,{focusRipple:!0,...o,ownerState:r,children:m.jsx(Xr,{as:t.CollapsedIcon,ownerState:r,...n.collapsedIcon})})})}function Yr(e){return ae("MuiBreadcrumbs",e)}const Qr=ce("MuiBreadcrumbs",["root","ol","li","separator"]),Zr=e=>{const{classes:t}=e;return ue({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Yr,t)},es=z(oe,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${Qr.li}`]:t.li},t.root]})({}),ts=z("ol",{name:"MuiBreadcrumbs",slot:"Ol"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),ns=z("li",{name:"MuiBreadcrumbs",slot:"Separator"})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function os(e,t,n,o){return e.reduce((r,a,u)=>(u<e.length-1?r=r.concat(a,m.jsx(ns,{"aria-hidden":!0,className:t,ownerState:o,children:n},`separator-${u}`)):r.push(a),r),[])}const rs=C.forwardRef(function(t,n){const o=je({props:t,name:"MuiBreadcrumbs"}),{children:r,className:a,component:u="nav",slots:i={},slotProps:l={},expandText:p="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:s=1,maxItems:c=8,separator:f="/",...I}=o,[b,h]=C.useState(!1),g={...o,component:u,expanded:b,expandText:p,itemsAfterCollapse:d,itemsBeforeCollapse:s,maxItems:c,separator:f},x=Zr(g),w=Y({elementType:i.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:g}),k=C.useRef(null),P=L=>{const D=()=>{h(!0);const S=k.current.querySelector("a[href],button,[tabindex]");S&&S.focus()};return s+d>=L.length?L:[...L.slice(0,s),m.jsx(Jr,{"aria-label":p,slots:{CollapsedIcon:i.CollapsedIcon},slotProps:{collapsedIcon:w},onClick:D},"ellipsis"),...L.slice(L.length-d,L.length)]},R=C.Children.toArray(r).filter(L=>C.isValidElement(L)).map((L,D)=>m.jsx("li",{className:x.li,children:L},`child-${D}`));return m.jsx(es,{ref:n,component:u,color:"textSecondary",className:K(x.root,a),ownerState:g,...I,children:m.jsx(ts,{className:x.ol,ref:k,ownerState:g,children:os(b||c&&R.length<=c?R:P(R),x.separator,f,g)})})});function ss(e){return ae("MuiLink",e)}const is=ce("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),ls=({theme:e,ownerState:t})=>{const n=t.color,o=Be(e,`palette.${n}.main`,!1)||Be(e,`palette.${n}`,!1)||t.color,r=Be(e,`palette.${n}.mainChannel`)||Be(e,`palette.${n}Channel`);return"vars"in e&&r?`rgba(${r} / 0.4)`:ee(o,.4)},Ht={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},as=e=>{const{classes:t,component:n,focusVisible:o,underline:r}=e,a={root:["root",`underline${be(r)}`,n==="button"&&"button",o&&"focusVisible"]};return ue(a,ss,t)},cs=z(oe,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${be(n.underline)}`],n.component==="button"&&t.button]}})(De(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:t,ownerState:n})=>t==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(ut()).map(([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:ee(e.palette[t].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ee(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:ee(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${is.focusVisible}`]:{outline:"auto"}}}]}))),us=C.forwardRef(function(t,n){const o=je({props:t,name:"MuiLink"}),r=Wt(),{className:a,color:u="primary",component:i="a",onBlur:l,onFocus:p,TypographyClasses:d,underline:s="always",variant:c="inherit",sx:f,...I}=o,[b,h]=C.useState(!1),g=P=>{Mt(P.target)||h(!1),l&&l(P)},x=P=>{Mt(P.target)&&h(!0),p&&p(P)},w={...o,color:u,component:i,focusVisible:b,underline:s,variant:c},k=as(w);return m.jsx(cs,{color:u,className:K(k.root,a),classes:d,component:i,onBlur:g,onFocus:x,ref:n,ownerState:w,variant:c,...I,sx:[...Ht[u]===void 0?[{color:u}]:[],...Array.isArray(f)?f:[f]],style:{...I.style,...s==="always"&&u!=="inherit"&&!Ht[u]&&{"--Link-underlineColor":ls({theme:r,ownerState:w})}}})});function ds(e){return ae("MuiToolbar",e)}ce("MuiToolbar",["root","gutters","regular","dense"]);const ps=e=>{const{classes:t,disableGutters:n,variant:o}=e;return ue({root:["root",!n&&"gutters",o]},ds,t)},fs=z("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(De(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),ms=C.forwardRef(function(t,n){const o=je({props:t,name:"MuiToolbar"}),{className:r,component:a="div",disableGutters:u=!1,variant:i="regular",...l}=o,p={...o,component:a,disableGutters:u,variant:i},d=ps(p);return m.jsx(fs,{as:a,className:K(d.root,r),ref:n,ownerState:p,...l})}),hs=ne(m.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),gs=ne(m.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),bs=ne(m.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Is=ne(m.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),xs=ne(m.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}));function ys(e){if(e){if(typeof e=="string")return e;if(e["time.Time"])return e["time.Time"]}}const Cs=({fileInfo:e,isOpen:t,onClose:n})=>{if(!t||!e)return null;const o=a=>{if(!a)return"0 B";const u=["B","KB","MB","GB"];let i=a,l=0;for(;i>=1024&&l<u.length-1;)i/=1024,l++;return`${i.toFixed(1)} ${u[l]}`},r=a=>a?new Date(a).toLocaleString("ja-JP"):"-";return m.jsx("div",{className:"modal-overlay",onClick:n,children:m.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:e.name}),m.jsx("button",{className:"close-button",onClick:n,children:""})]}),m.jsxs("div",{className:"modal-body",children:[m.jsxs("div",{className:"info-row",children:[m.jsx("span",{className:"label",children:":"}),m.jsx("span",{className:"value",children:e.is_directory?"":""})]}),m.jsxs("div",{className:"info-row",children:[m.jsx("span",{className:"label",children:":"}),m.jsx("span",{className:"value",children:o(e.size)})]}),m.jsxs("div",{className:"info-row",children:[m.jsx("span",{className:"label",children:":"}),m.jsx("span",{className:"value",children:e.path})]}),m.jsxs("div",{className:"info-row",children:[m.jsx("span",{className:"label",children:":"}),m.jsx("span",{className:"value",children:r(ys(e.modified_time))})]})]})]})})},vs=e=>{if(e.isDirectory)return null;if(e.name===".detail.yaml")return m.jsx("span",{style:{fontSize:"16px"},children:""});switch(e.name?.split(".").pop()?.toLowerCase()){case"pdf":return m.jsx("span",{style:{fontSize:"16px"},children:""});case"xlsx":case"xls":case"xlsm":return m.jsx("span",{style:{fontSize:"16px"},children:""});case"jpg":case"jpeg":case"png":case"gif":return m.jsx("span",{style:{fontSize:"16px"},children:""});case"mp4":case"avi":case"mov":return m.jsx("span",{style:{fontSize:"16px"},children:""});case"mp3":case"wav":return m.jsx("span",{style:{fontSize:"16px"},children:""});default:return m.jsx(Is,{color:"action"})}},ws=e=>{if(!e||e===0)return"";const t=["B","KB","MB","GB"];let n=e,o=0;for(;n>=1024&&o<t.length-1;)n/=1024,o++;return` (${n.toFixed(1)} ${t[o]})`},Ge=(e,t,n)=>e.map(o=>o.id===t?n:o.children?{...o,children:Ge(o.children,t,n)}:o),yn=kt.memo(({itemId:e,node:t,onNodeClick:n,onNodeExpand:o,isExpanded:r,expanded:a,...u})=>{const i=kt.useCallback(l=>{l.stopPropagation(),n(t)},[t,n]);return m.jsx(Wr,{itemId:e,onClick:i,sx:{...t.isLoading&&{"& .MuiTreeItem-content":{opacity:.7}}},label:m.jsxs(ie,{sx:{display:"flex",alignItems:"center",py:.5,pr:2},children:[t.isDirectory?r?m.jsx(gs,{sx:{mr:.5}}):m.jsx(hs,{sx:{mr:.5}}):vs(t),m.jsxs(oe,{variant:"body2",sx:{flexGrow:1,mr:1,ml:1},children:[t.name,!t.isDirectory&&ws(t.size)]}),t.name===".detail.yaml"&&m.jsx(Rn,{label:"",size:"small",color:"info",variant:"outlined",sx:{ml:1,fontSize:"10px",height:"20px"}})]}),...u,children:t.children?.map(l=>m.jsx(yn,{itemId:l.id,node:l,onNodeClick:n,onNodeExpand:o,isExpanded:a.includes(l.id),expanded:a},l.id))})}),Es=()=>{const[e,t]=C.useState([]),[n,o]=C.useState(!1),[r,a]=C.useState(null),[u,i]=C.useState(""),[l,p]=C.useState(""),[d,s]=C.useState(!1),[c,f]=C.useState(null),[I,b]=C.useState(!1),[h,g]=C.useState([]),{setFileCount:x,setCurrentPath:w}=Dn(),k=C.useCallback(async()=>{try{const E=await Mn();if(E.data&&E.data.businessBasePath)return p(E.data.businessBasePath),s(!1),E.data.businessBasePath;throw new Error("")}catch{return s(!0),a(""),null}},[]),P=E=>({id:E.path,name:E.name,path:E.path,relativePath:E.path.replace(l+"/","")||"",isDirectory:E.is_directory,size:E.size,modifiedTime:E.modified_time,children:E.is_directory?[]:void 0,isLoaded:!E.is_directory,isLoading:!1}),R=C.useCallback(async(E,O=!1)=>{const A=E||"";o(!0),a(null);try{const F=await Ln({query:A?{path:A}:{}});if(F.data){const N=F.data,G=N.map(X=>P(X));return(!E||O)&&(t(G),x(N.length),w(l),i(l)),G}else if(F.error)throw new Error("API: "+JSON.stringify(F.error))}catch(F){return a(F instanceof Error?F.message:""),[]}finally{o(!1)}},[l,x,w]);C.useEffect(()=>{(async()=>{o(!0),await k()&&await R(),o(!1)})()},[k,R]);const L=C.useCallback(async(E,O)=>{if(!(!O.isDirectory||O.isLoaded||O.isLoading)){t(A=>Ge(A,E,{...O,isLoading:!0}));try{const A=O.relativePath||"",F=await R(A,!1);t(N=>Ge(N,E,{...O,children:F,isLoaded:!0,isLoading:!1}))}catch(A){console.error("handleNodeExpand error:",A),t(F=>Ge(F,E,{...O,isLoading:!1}))}}},[R]),D=C.useCallback(E=>{E.isDirectory?g(O=>{if(O.includes(E.id))return O.filter(F=>F!==E.id);{const F=[...O,E.id];return!E.isLoaded&&!E.isLoading&&setTimeout(()=>L(E.id,E),0),F}}):(f(E),b(!0))},[L]),S=()=>{t([]),g([]),R(u,!0)},V=()=>{t([]),g([]),R("",!0)},H=()=>{const O=(u||l).replace(l,"").split("/").filter(Boolean),A=[{label:l.split("/").pop()||"",path:""}];let F="";return O.forEach(N=>{F===""?F=`${l}/${N}`:F+=`/${N}`,A.push({label:N,path:F})}),A};return m.jsxs(ie,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[m.jsxs(Lt,{elevation:1,sx:{mb:1},children:[m.jsxs(ms,{variant:"dense",children:[m.jsx(jt,{onClick:V,size:"small",title:"",children:m.jsx(bs,{})}),m.jsx(jt,{onClick:S,size:"small",title:"",children:m.jsx(xs,{})})]}),m.jsx(ie,{sx:{px:2,pb:1},children:m.jsx(rs,{children:H().map((E,O)=>m.jsx(us,{component:"button",variant:"body2",color:O===H().length-1?"text.primary":"inherit",onClick:()=>{E.path!==u&&(t([]),g([]),R(E.path,!0))},underline:"hover",children:E.label},O))})})]}),r&&m.jsx(jn,{severity:"error",sx:{mb:1},children:r}),m.jsxs(Lt,{sx:{flex:1,overflow:"auto",p:1,position:"relative",minHeight:0},children:[n&&e.length===0?m.jsxs(ie,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",p:3},children:[m.jsxs(ie,{sx:{position:"relative",display:"inline-flex"},children:[m.jsx(_e,{size:60,thickness:1,sx:{color:"primary.main",animationDuration:"2s"}}),m.jsx(_e,{variant:"determinate",size:60,thickness:2,value:25,sx:{color:"grey.300",position:"absolute",top:0,left:0,zIndex:0}})]}),m.jsx(oe,{color:"text.secondary",sx:{mt:2},children:"..."}),m.jsx(oe,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:""})]}):d?m.jsx(ie,{sx:{display:"flex",justifyContent:"center",p:3},children:m.jsx(oe,{color:"error",children:""})}):m.jsxs(m.Fragment,{children:[m.jsx(rr,{expandedItems:h,onExpandedItemsChange:()=>{},sx:{flexGrow:1,overflowY:"auto","& .MuiTreeItem-content":{"&:hover":{backgroundColor:"action.hover"}},"& .MuiTreeItem-iconContainer":{display:"none"}},children:e.map(E=>m.jsx(yn,{itemId:E.id,node:E,onNodeClick:D,onNodeExpand:L,isExpanded:h.includes(E.id),expanded:h},E.id))}),e.some(E=>E.isLoading||E.children&&E.children.some(O=>O.isLoading))&&m.jsxs(ie,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:2,p:3,boxShadow:3,zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",minWidth:200},children:[m.jsx(_e,{size:48,thickness:3,sx:{color:"primary.main"}}),m.jsx(oe,{color:"text.primary",sx:{mt:2,fontWeight:500},children:"..."}),m.jsx(oe,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:""})]})]}),e.length===0&&!n&&!d&&m.jsx(ie,{sx:{display:"flex",justifyContent:"center",p:3},children:m.jsx(oe,{color:"text.secondary",children:""})})]}),m.jsx(Cs,{fileInfo:c,isOpen:I,onClose:()=>{b(!1),f(null)}})]})},Ms=Cn(function(){return m.jsx(Es,{})});export{Ms as default};
