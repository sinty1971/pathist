{
  "openapi": "3.0.3",
  "info": {
    "contact": {},
    "description": "ファイルエントリの管理と閲覧のためのAPI",
    "title": "Penguin ファイルシステム管理API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080/api"
    }
  ],
  "paths": {
    "/file-entries": {
      "get": {
        "description": "指定されたパスからファイルとフォルダーの一覧を取得します",
        "parameters": [
          {
            "default": "~/penguin",
            "description": "取得するディレクトリのパス",
            "in": "query",
            "name": "path",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "正常なレスポンス",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/models.FileEntriesListResponse"
                }
              }
            }
          },
          "500": {
            "description": "サーバーエラー",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "ファイルエントリ一覧の取得",
        "tags": [
          "ファイル管理"
        ]
      }
    },
    "/kouji-entries": {
      "get": {
        "description": "指定されたパスから工事プロジェクトフォルダーの一覧を取得します。\n各工事プロジェクトには会社名、現場名、工事開始日などの詳細情報が含まれます。",
        "parameters": [
          {
            "default": "~/penguin/豊田築炉/2-工事",
            "description": "工事フォルダーのパス",
            "in": "query",
            "name": "path",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "工事プロジェクト一覧",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/models.KoujiEntriesResponse"
                }
              }
            }
          },
          "500": {
            "description": "サーバーエラー",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "工事プロジェクト一覧の取得",
        "tags": [
          "工事管理"
        ]
      }
    },
    "/kouji-entries/save": {
      "post": {
        "description": "工事プロジェクト情報をYAMLファイルに保存します",
        "parameters": [],
        "responses": {
          "200": {
            "description": "成功メッセージ",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              }
            }
          },
          "500": {
            "description": "サーバーエラー",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "工事情報のYAML保存",
        "tags": [
          "工事管理"
        ],
        "requestBody": {
          "description": "工事データ（オプション）",
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "$ref": "#/components/schemas/models.KoujiEntry"
                },
                "type": "array"
              }
            }
          }
        }
      }
    },
    "/time/formats": {
      "get": {
        "description": "サポートされているすべての日時フォーマットの一覧を取得します",
        "responses": {
          "200": {
            "description": "正常なレスポンス",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/models.SupportedFormatsResponse"
                }
              }
            }
          }
        },
        "summary": "サポートされる時刻フォーマット一覧",
        "tags": [
          "時刻処理"
        ]
      }
    },
    "/time/parse": {
      "post": {
        "description": "様々な日時文字列フォーマットを解析します",
        "parameters": [],
        "responses": {
          "200": {
            "description": "正常なレスポンス",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/models.TimeParseResponse"
                }
              }
            }
          },
          "400": {
            "description": "不正なリクエスト",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "タイムスタンプの解析",
        "tags": [
          "時刻処理"
        ],
        "requestBody": {
          "description": "解析する時刻文字列",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/models.TimeParseRequest"
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "models.FileEntriesListResponse": {
        "description": "ファイルエントリ一覧を含むレスポンス",
        "properties": {
          "file_count": {
            "description": "File number of file entries",
            "example": 10,
            "type": "integer"
          },
          "file_entries": {
            "description": "File entries",
            "items": {
              "$ref": "#/components/schemas/models.FileEntry"
            },
            "type": "array"
          },
          "folder_count": {
            "description": "Folder number of file entries",
            "example": 10,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "models.FileEntry": {
        "description": "ファイルまたはディレクトリの情報",
        "properties": {
          "id": {
            "example": 123456,
            "type": "integer"
          },
          "is_directory": {
            "description": "Whether this item is a directory",
            "example": true,
            "type": "boolean"
          },
          "modified_time": {
            "allOf": [
              {
                "$ref": "#/components/schemas/models.Timestamp"
              }
            ],
            "description": "Last modification time"
          },
          "name": {
            "description": "Name of the file or folder",
            "example": "documents",
            "type": "string"
          },
          "path": {
            "description": "Full path to the file or folder",
            "example": "/home/user/documents",
            "type": "string"
          },
          "size": {
            "description": "Size of the file in bytes",
            "example": 4096,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "models.KoujiEntriesResponse": {
        "description": "Response containing list of construction kouji folders",
        "properties": {
          "count": {
            "example": 10,
            "type": "integer"
          },
          "kouji_entries": {
            "items": {
              "$ref": "#/components/schemas/models.KoujiEntry"
            },
            "type": "array"
          },
          "total_size": {
            "example": 1073741824,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "models.KoujiEntry": {
        "description": "Construction kouji folder information with extended attributes",
        "properties": {
          "company_name": {
            "example": "豊田築炉",
            "type": "string"
          },
          "description": {
            "example": "工事関連の資料とドキュメント",
            "type": "string"
          },
          "end_date": {
            "$ref": "#/components/schemas/models.Timestamp"
          },
          "id": {
            "example": 123456,
            "type": "integer"
          },
          "is_directory": {
            "description": "Whether this item is a directory",
            "example": true,
            "type": "boolean"
          },
          "location_name": {
            "example": "名和工場",
            "type": "string"
          },
          "modified_time": {
            "allOf": [
              {
                "$ref": "#/components/schemas/models.Timestamp"
              }
            ],
            "description": "Last modification time"
          },
          "name": {
            "description": "Name of the file or folder",
            "example": "documents",
            "type": "string"
          },
          "path": {
            "description": "Full path to the file or folder",
            "example": "/home/user/documents",
            "type": "string"
          },
          "size": {
            "description": "Size of the file in bytes",
            "example": 4096,
            "type": "integer"
          },
          "start_date": {
            "$ref": "#/components/schemas/models.Timestamp"
          },
          "status": {
            "example": "進行中",
            "type": "string"
          },
          "tags": {
            "example": [
              "['工事'",
              " '豊田築炉'",
              " '名和工場']"
            ],
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "models.SupportedFormatsResponse": {
        "description": "List of all supported date/time formats",
        "properties": {
          "formats": {
            "description": "List of supported formats",
            "items": {
              "$ref": "#/components/schemas/models.TimeFormat"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "models.TimeFormat": {
        "description": "Supported time format information",
        "properties": {
          "example": {
            "description": "Example value",
            "example": "2024-01-15T10:30:00Z",
            "type": "string"
          },
          "name": {
            "description": "Format name",
            "example": "RFC3339",
            "type": "string"
          },
          "pattern": {
            "description": "Format pattern",
            "example": "2006-01-02T15:04:05Z07:00",
            "type": "string"
          }
        },
        "type": "object"
      },
      "models.TimeParseRequest": {
        "description": "Request for parsing various date/time formats",
        "properties": {
          "time_string": {
            "description": "Time string to parse",
            "example": "2024-01-15T10:30:00",
            "type": "string"
          }
        },
        "type": "object"
      },
      "models.TimeParseResponse": {
        "description": "Response containing parsed time in various formats",
        "properties": {
          "original": {
            "description": "Original input string",
            "example": "2024-01-15T10:30:00",
            "type": "string"
          },
          "readable": {
            "description": "Human readable format",
            "example": "January 15, 2024 10:30 AM",
            "type": "string"
          },
          "rfc3339": {
            "description": "Parsed time in RFC3339 format",
            "example": "2024-01-15T10:30:00Z",
            "type": "string"
          },
          "timezone": {
            "description": "Time zone used",
            "example": "Local",
            "type": "string"
          },
          "unix": {
            "description": "Unix timestamp",
            "example": 1705318200,
            "type": "integer"
          }
        },
        "type": "object"
      },
      "models.Timestamp": {
        "description": "Timestamp in RFC3339 format",
        "properties": {
          "time.Time": {
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  }
}